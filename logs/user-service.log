2024-11-19 11:11:43.107 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 14384 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 11:11:43.119 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 11:11:43.121 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 11:11:43.962 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 11:11:44.041 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2024-11-19 11:11:44.676 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 11:11:44.685 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 11:11:44.686 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 11:11:44.783 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 11:11:44.783 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1612 ms
2024-11-19 11:11:44.968 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 11:11:45.041 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 11:11:45.043 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 11:11:45.364 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 11:11:45.391 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 11:11:45.532 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@78eafad
2024-11-19 11:11:45.534 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 11:11:45.577 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 11:11:45.578 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 11:11:45.776 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
2024-11-19 11:11:45.776 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
2024-11-19 11:11:45.776 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-19 11:11:45.783 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-19 11:11:45.785 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 11:11:45.794 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 11:11:45.809 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: org.hibernate.AnnotationException: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
	at org.hibernate.boot.model.internal.CollectionBinder.detectManyToManyProblems(CollectionBinder.java:2485)
	at org.hibernate.boot.model.internal.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:2080)
	at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1551)
	at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1535)
	at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1870)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1826)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:331)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 16 common frames omitted
2024-11-19 11:12:01.246 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 11796 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 11:12:01.247 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 11:12:01.248 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 11:12:02.027 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 11:12:02.097 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 5 JPA repository interfaces.
2024-11-19 11:12:02.714 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 11:12:02.722 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 11:12:02.722 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 11:12:02.830 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 11:12:02.831 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1536 ms
2024-11-19 11:12:03.046 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 11:12:03.120 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 11:12:03.122 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 11:12:03.406 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 11:12:03.440 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 11:12:03.570 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7433ca19
2024-11-19 11:12:03.572 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 11:12:03.609 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 11:12:03.610 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 11:12:03.791 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
2024-11-19 11:12:03.791 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
2024-11-19 11:12:03.791 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-19 11:12:03.799 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-19 11:12:03.801 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 11:12:03.810 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 11:12:03.824 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: org.hibernate.AnnotationException: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
	at org.hibernate.boot.model.internal.CollectionBinder.detectManyToManyProblems(CollectionBinder.java:2485)
	at org.hibernate.boot.model.internal.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:2080)
	at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1551)
	at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1535)
	at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1870)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1826)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:331)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 16 common frames omitted
2024-11-19 11:13:59.121 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 13264 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 11:13:59.122 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 11:13:59.122 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 11:13:59.876 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 11:13:59.954 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 5 JPA repository interfaces.
2024-11-19 11:14:00.527 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 11:14:00.534 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 11:14:00.534 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 11:14:00.634 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 11:14:00.635 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1464 ms
2024-11-19 11:14:00.805 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 11:14:00.876 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 11:14:00.879 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 11:14:01.143 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 11:14:01.169 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 11:14:01.310 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@184de357
2024-11-19 11:14:01.312 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 11:14:01.344 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 11:14:01.345 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 11:14:01.517 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
2024-11-19 11:14:01.518 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
2024-11-19 11:14:01.518 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-19 11:14:01.528 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-19 11:14:01.530 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 11:14:01.538 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 11:14:01.553 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: org.hibernate.AnnotationException: Association 'com.billit.user_service.account.domain.entity.BorrowAccount.transactions' targets the type 'org.hibernate.Transaction' which is not an '@Entity' type
	at org.hibernate.boot.model.internal.CollectionBinder.detectManyToManyProblems(CollectionBinder.java:2485)
	at org.hibernate.boot.model.internal.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:2080)
	at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1551)
	at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1535)
	at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1870)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1826)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:331)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 16 common frames omitted
2024-11-19 11:18:22.216 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 12080 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 11:18:22.222 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 11:18:22.223 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 11:18:23.038 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 11:18:23.101 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2024-11-19 11:18:23.724 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 11:18:23.733 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 11:18:23.733 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 11:18:23.825 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 11:18:23.825 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1553 ms
2024-11-19 11:18:23.996 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 11:18:24.050 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 11:18:24.052 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 11:18:24.318 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 11:18:24.345 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 11:18:24.473 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53dba9cd
2024-11-19 11:18:24.474 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 11:18:24.524 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 11:18:24.526 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 11:18:25.401 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 11:18:25.417 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 11:18:25.462 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 11:18:25.473 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 11:18:25.495 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h" via JDBC [Table 'user_service.transactions' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h" via JDBC [Table 'user_service.transactions' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:455)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:293)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: java.sql.SQLSyntaxErrorException: Table 'user_service.transactions' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2024-11-19 11:18:25.500 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 11:18:25.502 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7" via JDBC [Table 'user_service.transactions' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7" via JDBC [Table 'user_service.transactions' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:455)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:293)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: java.sql.SQLSyntaxErrorException: Table 'user_service.transactions' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2024-11-19 11:18:25.504 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 11:18:25.521 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 11:18:25.533 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 11:18:25.538 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 11:18:25.552 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 11:18:25.574 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 11:18:25.595 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 11:18:25.609 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING'),
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW'),
        primary key (id)
    ) engine=InnoDB
2024-11-19 11:18:25.623 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 11:18:25.635 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 11:18:25.649 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 11:18:25.661 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 11:18:25.672 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 11:18:25.717 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 11:18:25.753 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 11:18:25.794 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 11:18:25.841 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 11:18:26.584 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 13d96390-0967-4ddf-9f0a-9250064cf20f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 11:18:26.685 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69e23e94, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55c78556, org.springframework.security.web.context.SecurityContextHolderFilter@61c11339, org.springframework.security.web.header.HeaderWriterFilter@33efa7d4, org.springframework.security.web.authentication.logout.LogoutFilter@4a937d43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d3d5242, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8b71052, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25134e01, org.springframework.security.web.session.SessionManagementFilter@356cb230, org.springframework.security.web.access.ExceptionTranslationFilter@41ae9f11, org.springframework.security.web.access.intercept.AuthorizationFilter@52737c1]
2024-11-19 11:18:27.221 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 11:18:27.227 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.458 seconds (process running for 5.806)
2024-11-19 11:24:03.775 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 21456 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 11:24:03.776 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 11:24:03.777 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 11:24:04.549 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 11:24:04.613 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2024-11-19 11:24:05.196 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 11:24:05.204 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 11:24:05.204 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 11:24:05.296 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 11:24:05.296 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1469 ms
2024-11-19 11:24:05.470 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 11:24:05.517 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 11:24:05.519 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 11:24:05.787 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 11:24:05.813 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 11:24:05.953 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@184de357
2024-11-19 11:24:05.955 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 11:24:06.005 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 11:24:06.007 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 11:24:06.820 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 11:24:06.833 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 11:24:06.852 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 11:24:06.861 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 11:24:06.870 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 11:24:06.877 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 11:24:06.891 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 11:24:06.904 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 11:24:06.922 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 11:24:06.936 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 11:24:06.954 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 11:24:06.968 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 11:24:06.983 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 11:24:06.998 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 11:24:07.010 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 11:24:07.024 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 11:24:07.033 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 11:24:07.041 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 11:24:07.087 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 11:24:07.139 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 11:24:07.179 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 11:24:07.226 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 11:24:07.913 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1d0ab98e-3e85-4ce4-84f4-93826925a5aa

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 11:24:07.996 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@481f698f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41ae9f11, org.springframework.security.web.context.SecurityContextHolderFilter@6408a8ac, org.springframework.security.web.header.HeaderWriterFilter@d695f9d, org.springframework.security.web.authentication.logout.LogoutFilter@1e65c4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@456c53a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43d2c8e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45a40353, org.springframework.security.web.session.SessionManagementFilter@6df4d8f1, org.springframework.security.web.access.ExceptionTranslationFilter@2da8ed80, org.springframework.security.web.access.intercept.AuthorizationFilter@3d0697da]
2024-11-19 11:24:08.523 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 11:24:08.531 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.225 seconds (process running for 5.569)
2024-11-19 11:24:37.808 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 11:24:37.809 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 11:24:37.810 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 11:24:38.112 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 11:24:38.187 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 11:25:24.451 [http-nio-8085-exec-2] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-19T11:25:24.451182600
Request: uri=/api/users/borrow
Error Type: HttpRequestMethodNotSupportedException
Error Message: Request method 'POST' is not supported
Position: org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:265)
Stack Trace: [org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:265), org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441), org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382), org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:126), org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68), org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:505), org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1275), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:1583)]
==================================================
2024-11-19 11:25:26.579 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 11:27:20.918 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 12:35:23.664 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 24192 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 12:35:23.665 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 12:35:23.666 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 12:35:24.415 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 12:35:24.483 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2024-11-19 12:35:25.080 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 12:35:25.087 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 12:35:25.087 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 12:35:25.177 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 12:35:25.177 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1464 ms
2024-11-19 12:35:25.377 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 12:35:25.434 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 12:35:25.435 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 12:35:25.719 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 12:35:25.747 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 12:35:25.883 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@184de357
2024-11-19 12:35:25.885 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 12:35:25.921 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 12:35:25.923 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 12:35:26.729 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 12:35:26.741 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 12:35:26.766 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 12:35:26.775 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 12:35:26.781 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 12:35:26.787 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 12:35:26.801 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 12:35:26.813 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 12:35:26.826 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 12:35:26.837 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 12:35:26.853 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:35:26.865 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:35:26.878 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:35:26.905 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 12:35:26.918 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 12:35:26.930 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 12:35:26.939 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 12:35:26.948 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 12:35:26.989 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 12:35:27.027 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 12:35:27.068 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 12:35:27.133 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:35:27.802 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d3e9f2e8-7fbd-4cb8-8686-dd0a832b1696

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 12:35:27.924 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45a40353, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33efa7d4, org.springframework.security.web.context.SecurityContextHolderFilter@456c53a, org.springframework.security.web.header.HeaderWriterFilter@6df4d8f1, org.springframework.security.web.authentication.logout.LogoutFilter@6414eb98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58fadccb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a9d572, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fe337, org.springframework.security.web.session.SessionManagementFilter@34893693, org.springframework.security.web.access.ExceptionTranslationFilter@d695f9d, org.springframework.security.web.access.intercept.AuthorizationFilter@723081a2]
2024-11-19 12:35:28.422 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 12:35:28.431 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.186 seconds (process running for 5.54)
2024-11-19 12:35:55.236 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 12:35:55.237 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 12:35:55.238 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 12:35:55.421 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 12:35:55.474 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 12:36:08.196 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 12:36:18.613 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:36:24.055 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:46:26.168 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 11504 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 12:46:26.169 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 12:46:26.170 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 12:46:26.968 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 12:46:27.040 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2024-11-19 12:46:27.647 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 12:46:27.654 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 12:46:27.655 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 12:46:27.751 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 12:46:27.752 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1531 ms
2024-11-19 12:46:27.951 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 12:46:28.018 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 12:46:28.020 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 12:46:28.281 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 12:46:28.311 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 12:46:28.460 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5834198f
2024-11-19 12:46:28.462 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 12:46:28.494 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 12:46:28.494 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 12:46:29.283 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 12:46:29.296 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 12:46:29.323 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 12:46:29.331 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 12:46:29.339 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 12:46:29.347 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 12:46:29.361 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 12:46:29.375 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 12:46:29.388 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 12:46:29.401 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 12:46:29.418 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:46:29.431 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:46:29.446 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:46:29.461 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 12:46:29.473 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 12:46:29.488 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 12:46:29.497 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 12:46:29.508 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 12:46:29.550 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 12:46:29.605 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 12:46:29.645 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 12:46:29.687 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:46:30.362 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3763f172-e0fd-4d04-a216-86927a90bb55

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 12:46:30.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d0697da, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b99f2ed, org.springframework.security.web.context.SecurityContextHolderFilter@6df4d8f1, org.springframework.security.web.header.HeaderWriterFilter@524b1e41, org.springframework.security.web.authentication.logout.LogoutFilter@6731b6bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34893693, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7916568d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@723081a2, org.springframework.security.web.session.SessionManagementFilter@d827673, org.springframework.security.web.access.ExceptionTranslationFilter@44ac94c2, org.springframework.security.web.access.intercept.AuthorizationFilter@5935eb9c]
2024-11-19 12:46:30.689 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userBorrowController' method 
com.billit.user_service.user.controller.UserBorrowController#getUserInfo(Long)
to {GET [/api/accounts/borrow]}: There is already 'accountBorrowController' bean method
com.billit.user_service.account.controller.AccountBorrowController#getAccounts(Long) mapped.
2024-11-19 12:46:30.690 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:46:30.691 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-19 12:46:30.707 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-19 12:46:30.710 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 12:46:30.725 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 12:46:30.771 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userBorrowController' method 
com.billit.user_service.user.controller.UserBorrowController#getUserInfo(Long)
to {GET [/api/accounts/borrow]}: There is already 'accountBorrowController' bean method
com.billit.user_service.account.controller.AccountBorrowController#getAccounts(Long) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userBorrowController' method 
com.billit.user_service.user.controller.UserBorrowController#getUserInfo(Long)
to {GET [/api/accounts/borrow]}: There is already 'accountBorrowController' bean method
com.billit.user_service.account.controller.AccountBorrowController#getAccounts(Long) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 16 common frames omitted
2024-11-19 12:46:46.673 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 6424 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 12:46:46.679 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 12:46:46.679 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 12:46:47.439 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 12:46:47.507 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 5 JPA repository interfaces.
2024-11-19 12:46:48.087 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 12:46:48.095 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 12:46:48.095 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 12:46:48.189 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 12:46:48.190 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1465 ms
2024-11-19 12:46:48.412 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 12:46:48.471 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 12:46:48.473 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 12:46:48.756 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 12:46:48.784 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 12:46:48.942 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@184de357
2024-11-19 12:46:48.944 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 12:46:48.978 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 12:46:48.980 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 12:46:49.763 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 12:46:49.775 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 12:46:49.803 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 12:46:49.812 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 12:46:49.820 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 12:46:49.828 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 12:46:49.844 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 12:46:49.857 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 12:46:49.870 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 12:46:49.884 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 12:46:49.904 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:46:49.920 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:46:49.935 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:46:49.951 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 12:46:49.965 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 12:46:49.978 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 12:46:49.987 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 12:46:49.997 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 12:46:50.037 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 12:46:50.080 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 12:46:50.122 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 12:46:50.165 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:46:50.930 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 4d8fba6a-6b0f-4719-9854-069956549d5d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 12:46:51.055 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45a40353, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33efa7d4, org.springframework.security.web.context.SecurityContextHolderFilter@456c53a, org.springframework.security.web.header.HeaderWriterFilter@6df4d8f1, org.springframework.security.web.authentication.logout.LogoutFilter@6414eb98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58fadccb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a9d572, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fe337, org.springframework.security.web.session.SessionManagementFilter@34893693, org.springframework.security.web.access.ExceptionTranslationFilter@d695f9d, org.springframework.security.web.access.intercept.AuthorizationFilter@723081a2]
2024-11-19 12:46:51.283 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userBorrowController' method 
com.billit.user_service.user.controller.UserBorrowController#getUserInfo(Long)
to {GET [/api/accounts/borrow]}: There is already 'accountBorrowController' bean method
com.billit.user_service.account.controller.AccountBorrowController#getAccounts(Long) mapped.
2024-11-19 12:46:51.284 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:46:51.288 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-19 12:46:51.301 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-19 12:46:51.304 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 12:46:51.321 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 12:46:51.371 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userBorrowController' method 
com.billit.user_service.user.controller.UserBorrowController#getUserInfo(Long)
to {GET [/api/accounts/borrow]}: There is already 'accountBorrowController' bean method
com.billit.user_service.account.controller.AccountBorrowController#getAccounts(Long) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userBorrowController' method 
com.billit.user_service.user.controller.UserBorrowController#getUserInfo(Long)
to {GET [/api/accounts/borrow]}: There is already 'accountBorrowController' bean method
com.billit.user_service.account.controller.AccountBorrowController#getAccounts(Long) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 16 common frames omitted
2024-11-19 12:48:04.126 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 14180 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 12:48:04.128 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 12:48:04.132 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 12:48:04.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 12:48:04.948 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 5 JPA repository interfaces.
2024-11-19 12:48:05.572 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 12:48:05.581 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 12:48:05.581 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 12:48:05.671 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 12:48:05.671 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1498 ms
2024-11-19 12:48:05.914 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 12:48:05.968 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 12:48:05.969 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 12:48:06.259 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 12:48:06.287 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 12:48:06.439 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@184de357
2024-11-19 12:48:06.440 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 12:48:06.482 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 12:48:06.483 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 12:48:07.276 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 12:48:07.288 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 12:48:07.316 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 12:48:07.325 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 12:48:07.332 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 12:48:07.341 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 12:48:07.353 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 12:48:07.365 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 12:48:07.377 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 12:48:07.392 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 12:48:07.410 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:48:07.423 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:48:07.439 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:48:07.455 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 12:48:07.469 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 12:48:07.482 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 12:48:07.492 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 12:48:07.502 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 12:48:07.542 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 12:48:07.591 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 12:48:07.634 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 12:48:07.675 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:48:08.286 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f43bf50a-57a9-4bf6-b91b-ca14a57694cd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 12:48:08.376 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45a40353, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33efa7d4, org.springframework.security.web.context.SecurityContextHolderFilter@456c53a, org.springframework.security.web.header.HeaderWriterFilter@6df4d8f1, org.springframework.security.web.authentication.logout.LogoutFilter@6414eb98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58fadccb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a9d572, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fe337, org.springframework.security.web.session.SessionManagementFilter@34893693, org.springframework.security.web.access.ExceptionTranslationFilter@d695f9d, org.springframework.security.web.access.intercept.AuthorizationFilter@723081a2]
2024-11-19 12:48:08.934 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 12:48:08.941 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.257 seconds (process running for 5.587)
2024-11-19 12:48:22.616 [http-nio-8085-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 12:48:22.616 [http-nio-8085-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 12:48:22.618 [http-nio-8085-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 12:49:17.481 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 3020 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 12:49:17.483 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 12:49:17.484 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 12:49:18.267 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 12:49:18.341 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 5 JPA repository interfaces.
2024-11-19 12:49:18.907 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 12:49:18.914 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 12:49:18.915 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 12:49:19.008 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 12:49:19.009 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1476 ms
2024-11-19 12:49:19.185 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 12:49:19.238 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 12:49:19.239 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 12:49:19.506 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 12:49:19.536 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 12:49:19.679 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@184de357
2024-11-19 12:49:19.682 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 12:49:19.723 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 12:49:19.724 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 12:49:20.513 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 12:49:20.526 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 12:49:20.555 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 12:49:20.564 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 12:49:20.572 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 12:49:20.580 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 12:49:20.593 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 12:49:20.608 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 12:49:20.620 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 12:49:20.634 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 12:49:20.667 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:49:20.687 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:49:20.704 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:49:20.719 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 12:49:20.735 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 12:49:20.747 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 12:49:20.757 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 12:49:20.767 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 12:49:20.808 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 12:49:20.849 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 12:49:20.890 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 12:49:20.935 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:49:21.700 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 4567a41e-da87-4233-ba2a-af29b5a5a772

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 12:49:21.790 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45a40353, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33efa7d4, org.springframework.security.web.context.SecurityContextHolderFilter@456c53a, org.springframework.security.web.header.HeaderWriterFilter@6df4d8f1, org.springframework.security.web.authentication.logout.LogoutFilter@6414eb98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58fadccb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a9d572, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fe337, org.springframework.security.web.session.SessionManagementFilter@34893693, org.springframework.security.web.access.ExceptionTranslationFilter@d695f9d, org.springframework.security.web.access.intercept.AuthorizationFilter@723081a2]
2024-11-19 12:49:22.300 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 12:49:22.308 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.289 seconds (process running for 5.631)
2024-11-19 12:49:28.588 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 12:49:28.588 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 12:49:28.590 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 12:49:28.788 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 12:49:28.840 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 12:49:32.958 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 12:49:40.211 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:49:45.634 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:50:13.068 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:50:13.074 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 12:50:13.095 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 12:50:33.612 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.user_borrow_id=? 
        and not(b1_0.is_deleted)
2024-11-19 12:50:38.690 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:57:28.305 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 11420 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 12:57:28.307 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 12:57:28.307 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 12:57:29.077 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 12:57:29.145 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2024-11-19 12:57:29.739 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 12:57:29.747 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 12:57:29.748 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 12:57:29.849 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 12:57:29.850 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1500 ms
2024-11-19 12:57:30.015 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 12:57:30.070 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 12:57:30.072 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 12:57:30.336 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 12:57:30.363 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 12:57:30.499 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7433ca19
2024-11-19 12:57:30.500 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 12:57:30.535 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 12:57:30.535 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 12:57:31.323 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 12:57:31.337 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 12:57:31.349 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 12:57:31.356 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 12:57:31.363 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 12:57:31.370 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 12:57:31.381 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 12:57:31.395 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 12:57:31.409 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 12:57:31.423 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 12:57:31.440 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:57:31.455 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:57:31.469 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 12:57:31.483 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 12:57:31.496 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 12:57:31.529 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 12:57:31.539 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 12:57:31.547 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 12:57:31.585 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 12:57:31.621 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 12:57:31.661 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 12:57:31.701 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 12:57:32.445 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5de02fa7-954c-4ed4-94d0-a4970330295b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 12:57:32.541 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2dc72c0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dc28c66, org.springframework.security.web.context.SecurityContextHolderFilter@75693526, org.springframework.security.web.header.HeaderWriterFilter@45dfb6a4, org.springframework.security.web.authentication.logout.LogoutFilter@356cb230, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@603a34e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c5b4b91, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f97e963, org.springframework.security.web.session.SessionManagementFilter@12ebcdf6, org.springframework.security.web.access.ExceptionTranslationFilter@5f1dadf4, org.springframework.security.web.access.intercept.AuthorizationFilter@8b71052]
2024-11-19 12:57:33.076 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 12:57:33.084 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.235 seconds (process running for 5.584)
2024-11-19 12:57:37.805 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 12:57:37.805 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 12:57:37.806 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 12:57:37.874 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:57:37.889 [http-nio-8085-exec-1] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== CustomException ===============
DateTime: 2024-11-19T12:57:37.889379400
Request: uri=/api/users/borrow
Code: U001
Message:    .
Position: com.billit.user_service.user.service.UserBorrowService.lambda$getUserInfo$0(UserBorrowService.java:33)
=============================================
2024-11-19 12:57:45.019 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 12:57:45.076 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 12:57:50.396 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 12:57:55.740 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:57:55.746 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 12:57:55.764 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 12:57:59.230 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:57:59.243 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.user_borrow_id=? 
        and not(b1_0.is_deleted)
2024-11-19 12:58:08.761 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 12:58:08.764 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.user_borrow_id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:08:12.209 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 24128 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 13:08:12.211 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 13:08:12.211 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 13:08:12.963 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 13:08:13.031 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2024-11-19 13:08:13.635 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 13:08:13.643 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 13:08:13.644 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 13:08:13.729 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 13:08:13.729 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1476 ms
2024-11-19 13:08:13.909 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 13:08:13.969 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 13:08:13.970 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 13:08:14.255 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 13:08:14.279 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 13:08:14.407 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5834198f
2024-11-19 13:08:14.408 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 13:08:14.441 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 13:08:14.442 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 13:08:15.237 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 13:08:15.249 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 13:08:15.275 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 13:08:15.283 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 13:08:15.289 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 13:08:15.296 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 13:08:15.309 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 13:08:15.321 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 13:08:15.338 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 13:08:15.351 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 13:08:15.368 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:08:15.382 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:08:15.395 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:08:15.409 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 13:08:15.439 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 13:08:15.453 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 13:08:15.464 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 13:08:15.474 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 13:08:15.514 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 13:08:15.554 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 13:08:15.596 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 13:08:15.644 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 13:08:16.424 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 46c1ab0e-d317-42f0-82c7-d8eee6756073

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 13:08:16.518 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@356cb230, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50b78155, org.springframework.security.web.context.SecurityContextHolderFilter@711fbcef, org.springframework.security.web.header.HeaderWriterFilter@6408a8ac, org.springframework.security.web.authentication.logout.LogoutFilter@1a3e8b68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8bb5c2a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d15f031, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e284d90, org.springframework.security.web.session.SessionManagementFilter@456c53a, org.springframework.security.web.access.ExceptionTranslationFilter@735b1ad2, org.springframework.security.web.access.intercept.AuthorizationFilter@45a40353]
2024-11-19 13:08:17.044 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 13:08:17.052 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.283 seconds (process running for 5.619)
2024-11-19 13:08:37.686 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 13:08:37.687 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 13:08:37.688 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 13:08:37.978 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 13:08:38.052 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:08:39.574 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:08:41.893 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:08:41.899 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 13:08:41.918 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 13:08:44.000 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:08:44.007 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.user_borrow_id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:09:42.186 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 15740 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 13:09:42.188 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 13:09:42.188 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 13:09:42.900 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 13:09:42.966 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 5 JPA repository interfaces.
2024-11-19 13:09:43.546 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 13:09:43.554 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 13:09:43.554 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 13:09:43.646 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 13:09:43.646 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1411 ms
2024-11-19 13:09:43.852 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 13:09:43.927 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 13:09:43.928 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 13:09:44.193 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 13:09:44.235 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 13:09:44.367 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5834198f
2024-11-19 13:09:44.369 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 13:09:44.400 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 13:09:44.401 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 13:09:45.181 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 13:09:45.192 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 13:09:45.218 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 13:09:45.226 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 13:09:45.232 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 13:09:45.240 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 13:09:45.252 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 13:09:45.264 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 13:09:45.274 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 13:09:45.289 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 13:09:45.306 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:09:45.321 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:09:45.335 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:09:45.349 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 13:09:45.360 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 13:09:45.372 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 13:09:45.382 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 13:09:45.391 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 13:09:45.429 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 13:09:45.464 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 13:09:45.500 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 13:09:45.545 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 13:09:46.279 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e1cd418a-3783-4363-b2cf-9e8e1aeaf7e0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 13:09:46.377 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50b78155, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e284d90, org.springframework.security.web.context.SecurityContextHolderFilter@43d2c8e3, org.springframework.security.web.header.HeaderWriterFilter@2f70d78c, org.springframework.security.web.authentication.logout.LogoutFilter@5935eb9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a9d572, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45dfb6a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61c11339, org.springframework.security.web.session.SessionManagementFilter@7916568d, org.springframework.security.web.access.ExceptionTranslationFilter@34893693, org.springframework.security.web.access.intercept.AuthorizationFilter@33efa7d4]
2024-11-19 13:09:46.862 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 13:09:46.867 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.09 seconds (process running for 5.415)
2024-11-19 13:10:51.786 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 13:10:51.787 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 13:10:51.788 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 13:10:52.065 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 13:10:52.141 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:11:00.202 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 13:11:00.204 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:11:10.573 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:11:10.582 [http-nio-8085-exec-3] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== CustomException ===============
DateTime: 2024-11-19T13:11:10.582569600
Request: uri=/api/users/borrow/login
Code: U001
Message:    .
Position: com.billit.user_service.user.service.UserBorrowService.lambda$login$1(UserBorrowService.java:80)
=============================================
2024-11-19 13:11:13.172 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:11:16.170 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:11:43.862 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:11:43.869 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 13:11:43.887 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 13:11:55.456 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:11:55.460 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 13:11:55.463 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 13:14:22.867 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 14720 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 13:14:22.869 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 13:14:22.869 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 13:14:23.677 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 13:14:23.752 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 5 JPA repository interfaces.
2024-11-19 13:14:24.410 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 13:14:24.420 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 13:14:24.420 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 13:14:24.515 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 13:14:24.515 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1593 ms
2024-11-19 13:14:24.653 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 13:14:24.704 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 13:14:24.705 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 13:14:24.967 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 13:14:24.994 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 13:14:25.126 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4eb63dc8
2024-11-19 13:14:25.128 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 13:14:25.162 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 13:14:25.163 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 13:14:25.958 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 13:14:25.969 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 13:14:25.997 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 13:14:26.006 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 13:14:26.012 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 13:14:26.018 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 13:14:26.033 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 13:14:26.046 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 13:14:26.058 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 13:14:26.073 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 13:14:26.091 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:14:26.105 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:14:26.118 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:14:26.133 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 13:14:26.146 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 13:14:26.159 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 13:14:26.170 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 13:14:26.179 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 13:14:26.222 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 13:14:26.262 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 13:14:26.295 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 13:14:26.343 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 13:14:27.137 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5d866646-d28f-4092-9abf-964012fb1b52

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 13:14:27.232 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e284d90, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61c11339, org.springframework.security.web.context.SecurityContextHolderFilter@8bb5c2a, org.springframework.security.web.header.HeaderWriterFilter@456c53a, org.springframework.security.web.authentication.logout.LogoutFilter@fc6cac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a5df98c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@202ba60a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31ecd003, org.springframework.security.web.session.SessionManagementFilter@58fadccb, org.springframework.security.web.access.ExceptionTranslationFilter@6408a8ac, org.springframework.security.web.access.intercept.AuthorizationFilter@fe337]
2024-11-19 13:14:27.755 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 13:14:27.762 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.341 seconds (process running for 5.705)
2024-11-19 13:14:47.086 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 13:14:47.086 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 13:14:47.087 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 13:14:47.272 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 13:14:47.324 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:14:50.674 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 13:14:50.675 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:14:57.226 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:15:01.029 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:15:06.412 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:15:06.416 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 13:15:06.429 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 13:15:08.902 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:15:08.904 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 13:15:08.906 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 13:15:12.680 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:15:12.692 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:15:12.712 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:16:09.009 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:16:09.012 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:16:09.015 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:16:25.065 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:16:25.069 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:16:25.072 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:16:25.076 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:16:25.077 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:16:31.896 [http-nio-8085-exec-10] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-19T13:16:31.895126300
Request: uri=/api/accounts/transaction/history/%7BaccountId%7D
Error Type: MethodArgumentTypeMismatchException
Error Message: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{accountId}"
Position: org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
Stack Trace: [org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133), org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122), org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:1583)]
==================================================
2024-11-19 13:17:14.848 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.user_borrow_id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:17:23.884 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:17:23.887 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.amount,
        t1_0.borrow_account_id,
        t1_0.created_at,
        t1_0.description,
        t1_0.invest_account_id,
        t1_0.status,
        t1_0.transaction_id,
        t1_0.type,
        t1_0.updated_at 
    from
        transactions t1_0 
    where
        t1_0.borrow_account_id=?
2024-11-19 13:19:05.733 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:19:05.736 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.amount,
        t1_0.borrow_account_id,
        t1_0.created_at,
        t1_0.description,
        t1_0.invest_account_id,
        t1_0.status,
        t1_0.transaction_id,
        t1_0.type,
        t1_0.updated_at 
    from
        transactions t1_0 
    where
        t1_0.borrow_account_id=?
2024-11-19 13:20:21.886 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 21.0.4 with PID 9096 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 13:20:21.887 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 13:20:21.888 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 13:20:22.614 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 13:20:22.684 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2024-11-19 13:20:23.283 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 13:20:23.291 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 13:20:23.292 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 13:20:23.387 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 13:20:23.387 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1456 ms
2024-11-19 13:20:23.552 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 13:20:23.602 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 13:20:23.604 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 13:20:23.867 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 13:20:23.896 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 13:20:24.028 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e753289
2024-11-19 13:20:24.030 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 13:20:24.064 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 13:20:24.065 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 13:20:24.849 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 13:20:24.861 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-19 13:20:24.886 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-19 13:20:24.894 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-19 13:20:24.902 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-19 13:20:24.908 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-19 13:20:24.922 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-19 13:20:24.935 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-19 13:20:24.948 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-19 13:20:24.961 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-19 13:20:24.978 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:20:24.991 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:20:25.003 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-19 13:20:25.016 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-19 13:20:25.029 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        investment_grade varchar(10) not null,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-19 13:20:25.041 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-19 13:20:25.051 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-19 13:20:25.060 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-19 13:20:25.107 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-19 13:20:25.186 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-19 13:20:25.221 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-19 13:20:25.273 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 13:20:25.943 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c9ff43ae-7c9e-4f44-a35b-c2981f6bcb60

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 13:20:26.038 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2738a1fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d7d0946, org.springframework.security.web.context.SecurityContextHolderFilter@30dd23e2, org.springframework.security.web.header.HeaderWriterFilter@5f1dadf4, org.springframework.security.web.authentication.logout.LogoutFilter@33efa7d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75693526, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2af1bf5a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2dc72c0c, org.springframework.security.web.session.SessionManagementFilter@45dfb6a4, org.springframework.security.web.access.ExceptionTranslationFilter@6a9d572, org.springframework.security.web.access.intercept.AuthorizationFilter@6894436e]
2024-11-19 13:20:26.559 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 13:20:26.568 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.117 seconds (process running for 5.449)
2024-11-19 13:20:35.054 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 13:20:35.055 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 13:20:35.056 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 13:20:35.343 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 13:20:35.413 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:20:38.717 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 13:20:38.719 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:20:45.345 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:20:47.526 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 13:20:49.951 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:20:49.959 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 13:20:49.982 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 13:20:52.452 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-19 13:20:52.454 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-19 13:20:52.456 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-19 13:20:56.189 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:20:56.206 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:20:56.218 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:20:58.331 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:20:58.334 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:20:58.336 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:21:01.597 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:21:01.600 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted)
2024-11-19 13:21:01.603 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 13:21:01.605 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:21:01.607 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-19 13:21:06.093 [http-nio-8085-exec-10] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:21:06.098 [http-nio-8085-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.amount,
        t1_0.borrow_account_id,
        t1_0.created_at,
        t1_0.description,
        t1_0.invest_account_id,
        t1_0.status,
        t1_0.transaction_id,
        t1_0.type,
        t1_0.updated_at 
    from
        transactions t1_0 
    where
        t1_0.borrow_account_id=?
2024-11-19 13:21:16.879 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.user_borrow_id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:21:23.958 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=? 
        and not(b1_0.is_deleted)
2024-11-19 13:21:23.961 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.amount,
        t1_0.borrow_account_id,
        t1_0.created_at,
        t1_0.description,
        t1_0.invest_account_id,
        t1_0.status,
        t1_0.transaction_id,
        t1_0.type,
        t1_0.updated_at 
    from
        transactions t1_0 
    where
        t1_0.borrow_account_id=?
2024-11-19 13:21:32.973 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=? 
        and not(b1_0.is_deleted)
