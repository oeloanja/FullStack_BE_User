2024-11-19 17:27:53.452 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 25740 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 17:27:53.453 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 17:27:53.454 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 17:27:53.657 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.billit.user_service.UserServiceApplication]
2024-11-19 17:27:53.816 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.billit.user_service.UserServiceApplication]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:10)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'securityConfig' for bean class [com.billit.user_service.security.config.SecurityConfig] conflicts with existing, non-compatible bean definition of same name and class [com.billit.user_service.common.config.SecurityConfig]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)
	... 13 common frames omitted
2024-11-19 17:31:14.600 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 25000 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 17:31:14.601 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 17:31:14.602 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 17:31:15.391 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 17:31:15.471 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 5 JPA repository interfaces.
2024-11-19 17:31:16.217 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 17:31:16.228 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 17:31:16.229 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 17:31:16.349 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 17:31:16.349 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1699 ms
2024-11-19 17:31:16.522 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 17:31:16.619 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 17:31:16.621 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 17:31:16.944 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 17:31:16.973 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 17:31:17.130 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77bb916f
2024-11-19 17:31:17.132 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 17:31:17.173 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 17:31:17.173 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 17:31:18.103 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 17:31:18.201 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 17:31:19.053 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c4b390e1-ea86-41d8-8a7d-23fc0b1383a5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 17:31:19.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@4468ced2, org.springframework.security.web.header.HeaderWriterFilter@6c9e7af2, org.springframework.security.web.authentication.logout.LogoutFilter@63d43a5, com.billit.user_service.security.jwt.JwtAuthenticationFilter@2b33f7a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e3bc13b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@334ac669, org.springframework.security.web.access.ExceptionTranslationFilter@40304938, org.springframework.security.web.access.intercept.AuthorizationFilter@5d2bfc9f]
2024-11-19 17:31:19.887 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 17:31:19.896 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.761 seconds (process running for 6.103)
2024-11-19 17:31:59.324 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 17:31:59.325 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 17:31:59.325 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-11-19 17:32:57.018 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 16584 (C:\Users\user\Documents\GitHub\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Documents\GitHub\FullStack_BE_User)
2024-11-19 17:32:57.019 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-19 17:32:57.020 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 17:32:57.798 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-19 17:32:57.867 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 5 JPA repository interfaces.
2024-11-19 17:32:58.517 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-19 17:32:58.527 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 17:32:58.527 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-19 17:32:58.624 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2024-11-19 17:32:58.624 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1554 ms
2024-11-19 17:32:58.781 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-19 17:32:58.846 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-19 17:32:58.848 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-19 17:32:59.150 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-19 17:32:59.180 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-19 17:32:59.314 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@44eb2452
2024-11-19 17:32:59.316 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-19 17:32:59.365 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-19 17:32:59.366 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-19 17:33:00.193 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-19 17:33:00.268 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-19 17:33:00.988 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7a8f312a-4958-4da0-868a-f8090a7e7801

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-19 17:33:01.406 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a49753, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e68ccc9, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@3bf306d3, org.springframework.security.web.authentication.logout.LogoutFilter@277dddcf, com.billit.user_service.security.jwt.JwtAuthenticationFilter@1784fcab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@334ac669, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63e4bbf9, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@61c42e54, org.springframework.security.web.access.intercept.AuthorizationFilter@63d43a5]
2024-11-19 17:33:01.811 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api'
2024-11-19 17:33:01.820 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.282 seconds (process running for 5.607)
2024-11-19 17:33:16.529 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 17:33:16.529 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 17:33:16.530 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 17:33:16.745 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-19 17:33:16.858 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-19 17:33:44.770 [http-nio-8085-exec-2] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-19T17:33:44.770298800
Request: uri=/api/users/borrow/signup
Error Type: HttpRequestMethodNotSupportedException
Error Message: Request method 'GET' is not supported
Position: org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:265)
Stack Trace: [org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:265), org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441), org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382), org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:126), org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68), org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:505), org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1275), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:35), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:840)]
==================================================
2024-11-19 17:33:58.918 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 17:35:33.875 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 17:36:09.964 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-19 17:37:13.012 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-21 10:49:06.988 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 24328 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 10:49:06.989 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 10:49:06.990 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 10:49:08.239 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 10:49:08.413 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 166 ms. Found 6 JPA repository interfaces.
2024-11-21 10:49:08.646 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c1cc6eed-fa09-3f8f-9d35-08dcb40c14ea
2024-11-21 10:49:09.098 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 10:49:09.105 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 10:49:09.106 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 10:49:09.214 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 10:49:09.215 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2149 ms
2024-11-21 10:49:09.382 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 10:49:09.418 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 10:49:09.421 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 10:49:09.791 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 10:49:09.810 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 10:49:10.059 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6aaa678d
2024-11-21 10:49:10.063 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 10:49:10.161 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 10:49:10.163 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 10:49:11.247 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 10:49:11.272 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 10:49:11.559 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 10:49:11.587 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 10:49:11.609 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 10:49:11.625 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 10:49:11.663 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 10:49:11.687 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 10:49:11.705 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 10:49:11.729 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 10:49:11.752 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 10:49:11.781 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:49:11.829 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:49:11.872 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:49:11.913 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:49:11.945 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 10:49:11.978 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 10:49:12.012 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 10:49:12.048 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 10:49:12.075 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 10:49:12.101 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 10:49:12.160 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 10:49:12.219 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 10:49:12.303 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 10:49:12.371 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 10:49:13.189 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: dc95a846-211b-4553-bfb9-bc3db8bba21e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 10:49:13.440 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b1bb01c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c364a9d, org.springframework.security.web.context.SecurityContextHolderFilter@caee26e, org.springframework.security.web.header.HeaderWriterFilter@331eb953, org.springframework.security.web.authentication.logout.LogoutFilter@60a4595e, com.billit.user_service.security.jwt.JwtAuthenticationFilter@597084b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7df994ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d160056, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59ebe484, org.springframework.security.web.session.SessionManagementFilter@758e6acd, org.springframework.security.web.access.ExceptionTranslationFilter@77eb0e47, org.springframework.security.web.access.intercept.AuthorizationFilter@7a6078d]
2024-11-21 10:49:14.268 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 10:49:14.301 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 10:49:14.374 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 10:49:14.703 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 9.041 seconds (process running for 10.871)
2024-11-21 10:52:10.670 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 10:52:10.672 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 10:52:10.686 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 10:52:16.643 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 28792 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 10:52:16.646 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 10:52:16.647 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 10:52:17.771 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 10:52:17.952 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 173 ms. Found 6 JPA repository interfaces.
2024-11-21 10:52:18.289 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c1cc6eed-fa09-3f8f-9d35-08dcb40c14ea
2024-11-21 10:52:18.760 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 10:52:18.769 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 10:52:18.769 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 10:52:18.912 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 10:52:18.913 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2175 ms
2024-11-21 10:52:19.117 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 10:52:19.177 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 10:52:19.180 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 10:52:19.864 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 10:52:19.908 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 10:52:20.197 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69de72ec
2024-11-21 10:52:20.202 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 10:52:20.325 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 10:52:20.327 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 10:52:21.697 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 10:52:21.711 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 10:52:21.735 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 10:52:21.753 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 10:52:21.767 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 10:52:21.779 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 10:52:21.794 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 10:52:21.807 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 10:52:21.819 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 10:52:21.835 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 10:52:21.852 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 10:52:21.870 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:21.889 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:21.918 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:21.943 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:21.963 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 10:52:22.001 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 10:52:22.041 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 10:52:22.061 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 10:52:22.082 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 10:52:22.106 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 10:52:22.175 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 10:52:22.224 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 10:52:22.276 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 10:52:22.343 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 10:52:23.036 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a2b52b20-dc8f-49fc-aa6a-8aaeaf57ea28

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 10:52:23.404 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60f6d689, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a90b5e8, org.springframework.security.web.context.SecurityContextHolderFilter@639c5ab4, org.springframework.security.web.header.HeaderWriterFilter@5350a926, org.springframework.security.web.authentication.logout.LogoutFilter@11d474a, com.billit.user_service.security.jwt.JwtAuthenticationFilter@1ff65426, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12e8ea81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77eb0e47, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bdf6d63, org.springframework.security.web.session.SessionManagementFilter@7c070e78, org.springframework.security.web.access.ExceptionTranslationFilter@6e43c01f, org.springframework.security.web.access.intercept.AuthorizationFilter@3577e37c]
2024-11-21 10:52:24.064 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 10:52:24.091 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 10:52:24.148 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 10:52:24.460 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 8.996 seconds (process running for 10.124)
2024-11-21 10:52:46.001 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 10:52:46.004 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 10:52:46.016 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 10:52:50.262 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 27960 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 10:52:50.265 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 10:52:50.266 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 10:52:51.309 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 10:52:51.453 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 6 JPA repository interfaces.
2024-11-21 10:52:51.780 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c1cc6eed-fa09-3f8f-9d35-08dcb40c14ea
2024-11-21 10:52:52.214 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 10:52:52.226 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 10:52:52.227 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 10:52:52.341 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 10:52:52.342 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2013 ms
2024-11-21 10:52:52.498 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 10:52:52.551 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 10:52:52.554 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 10:52:52.765 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 10:52:52.789 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 10:52:52.982 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6aaa678d
2024-11-21 10:52:52.986 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 10:52:53.056 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 10:52:53.058 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 10:52:54.115 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 10:52:54.143 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 10:52:54.174 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 10:52:54.192 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 10:52:54.214 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 10:52:54.230 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 10:52:54.250 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 10:52:54.273 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 10:52:54.293 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 10:52:54.306 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 10:52:54.323 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 10:52:54.344 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:54.372 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:54.395 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:54.417 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:52:54.441 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 10:52:54.462 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 10:52:54.482 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 10:52:54.499 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 10:52:54.516 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 10:52:54.553 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 10:52:54.610 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 10:52:54.673 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 10:52:54.725 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 10:52:54.853 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 10:52:55.693 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 64bd4a2e-88f4-49c8-b02b-d9ef27dd3d33

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 10:52:55.982 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60a4595e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a234e1f, org.springframework.security.web.context.SecurityContextHolderFilter@c50503e, org.springframework.security.web.header.HeaderWriterFilter@5834298c, org.springframework.security.web.authentication.logout.LogoutFilter@eb5471c, com.billit.user_service.security.jwt.JwtAuthenticationFilter@406cc81b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@326489c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@174e5929, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64ef9b9a, org.springframework.security.web.session.SessionManagementFilter@331eb953, org.springframework.security.web.access.ExceptionTranslationFilter@21f7c0be, org.springframework.security.web.access.intercept.AuthorizationFilter@5fdebe73]
2024-11-21 10:52:56.722 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 10:52:56.744 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 10:52:56.810 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 10:52:57.103 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 7.918 seconds (process running for 8.884)
2024-11-21 10:57:06.689 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 10:57:06.692 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 10:57:06.707 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 10:58:13.066 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 26056 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 10:58:13.069 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 10:58:13.071 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 10:58:14.999 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 10:58:15.402 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 390 ms. Found 6 JPA repository interfaces.
2024-11-21 10:58:15.892 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c1cc6eed-fa09-3f8f-9d35-08dcb40c14ea
2024-11-21 10:58:16.507 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 10:58:16.526 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 10:58:16.527 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 10:58:16.741 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 10:58:16.742 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3571 ms
2024-11-21 10:58:17.042 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 10:58:17.160 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 10:58:17.164 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 10:58:17.696 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 10:58:17.751 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 10:58:18.124 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e1a3d5a
2024-11-21 10:58:18.127 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 10:58:18.224 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 10:58:18.226 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 10:58:20.359 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 10:58:20.383 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 10:58:20.420 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 10:58:20.449 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 10:58:20.474 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 10:58:20.498 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 10:58:20.532 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 10:58:20.561 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 10:58:20.585 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 10:58:20.619 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 10:58:20.664 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 10:58:20.705 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:58:20.757 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:58:20.808 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:58:20.851 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 10:58:20.901 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 10:58:20.955 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 10:58:21.001 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 10:58:21.033 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 10:58:21.079 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 10:58:21.112 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 10:58:21.204 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 10:58:21.303 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 10:58:21.404 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 10:58:21.503 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 10:58:22.842 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 21f1113b-623a-4259-993a-243c0758a136

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 10:58:23.324 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d4bb60f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29b61bb, org.springframework.security.web.context.SecurityContextHolderFilter@628d6320, org.springframework.security.web.header.HeaderWriterFilter@a47a011, org.springframework.security.web.authentication.logout.LogoutFilter@7510824, com.billit.user_service.security.jwt.JwtAuthenticationFilter@2fe152aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77eb0e47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c39c520, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f959640, org.springframework.security.web.session.SessionManagementFilter@272cec71, org.springframework.security.web.access.ExceptionTranslationFilter@7c046af, org.springframework.security.web.access.intercept.AuthorizationFilter@6a90b5e8]
2024-11-21 10:58:24.563 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 10:58:24.619 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 10:58:24.715 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 10:58:25.524 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 14.543 seconds (process running for 16.123)
2024-11-21 11:01:42.075 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 11:01:42.078 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 11:01:42.093 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 11:01:47.735 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 11504 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 11:01:47.737 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 11:01:47.738 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 11:01:48.752 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 11:01:48.909 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 6 JPA repository interfaces.
2024-11-21 11:01:49.143 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c1cc6eed-fa09-3f8f-9d35-08dcb40c14ea
2024-11-21 11:01:49.588 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 11:01:49.595 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 11:01:49.596 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 11:01:49.694 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 11:01:49.695 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1878 ms
2024-11-21 11:01:49.908 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 11:01:50.004 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 11:01:50.009 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 11:01:50.330 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 11:01:50.397 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 11:01:50.622 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cef0747
2024-11-21 11:01:50.625 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 11:01:50.674 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 11:01:50.676 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 11:01:51.781 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 11:01:51.794 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 11:01:51.830 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 11:01:51.847 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 11:01:51.861 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 11:01:51.872 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 11:01:51.883 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 11:01:51.904 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 11:01:51.920 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 11:01:51.931 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 11:01:51.944 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 11:01:51.961 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:01:51.982 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:01:52.014 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:01:52.044 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:01:52.071 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 11:01:52.093 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 11:01:52.116 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 11:01:52.133 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 11:01:52.150 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 11:01:52.165 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 11:01:52.209 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 11:01:52.257 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 11:01:52.307 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 11:01:52.362 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 11:01:53.080 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3bc1b5f8-8402-45c8-bb3f-a45317e1148e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 11:01:53.314 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f959640, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fdebe73, org.springframework.security.web.context.SecurityContextHolderFilter@3a034950, org.springframework.security.web.header.HeaderWriterFilter@7c7d83ff, org.springframework.security.web.authentication.logout.LogoutFilter@735d7b99, com.billit.user_service.security.jwt.JwtAuthenticationFilter@6919a8a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38f7a20, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326489c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23c0fcf0, org.springframework.security.web.session.SessionManagementFilter@628d6320, org.springframework.security.web.access.ExceptionTranslationFilter@6441da2c, org.springframework.security.web.access.intercept.AuthorizationFilter@6d4bb60f]
2024-11-21 11:01:54.004 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 11:01:54.067 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 11:01:54.161 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 11:01:54.572 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 7.797 seconds (process running for 8.867)
2024-11-21 11:02:37.941 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 11:02:37.944 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 11:02:37.956 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 11:02:42.832 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 16504 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 11:02:42.834 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 11:02:42.835 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 11:02:43.962 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 11:02:44.155 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 187 ms. Found 6 JPA repository interfaces.
2024-11-21 11:02:44.494 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 11:02:44.981 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 11:02:44.990 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 11:02:44.990 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 11:02:45.101 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 11:02:45.101 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2192 ms
2024-11-21 11:02:45.250 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 11:02:45.301 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 11:02:45.313 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 11:02:45.665 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 11:02:45.700 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 11:02:45.889 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1a06602f
2024-11-21 11:02:45.892 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 11:02:45.965 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 11:02:45.967 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 11:02:47.024 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 11:02:47.036 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 11:02:47.075 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 11:02:47.088 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 11:02:47.098 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 11:02:47.108 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 11:02:47.125 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 11:02:47.140 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 11:02:47.154 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 11:02:47.166 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 11:02:47.176 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 11:02:47.192 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:02:47.210 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:02:47.228 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:02:47.249 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 11:02:47.273 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 11:02:47.293 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 11:02:47.317 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 11:02:47.333 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 11:02:47.348 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 11:02:47.364 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 11:02:47.405 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 11:02:47.473 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 11:02:47.548 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 11:02:47.747 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 11:02:48.561 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 481f57a6-967e-456b-a20f-20b29d31d85a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 11:02:48.880 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b6ad2eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61868687, org.springframework.security.web.context.SecurityContextHolderFilter@3f213e97, org.springframework.security.web.header.HeaderWriterFilter@2d2afbdf, org.springframework.security.web.authentication.logout.LogoutFilter@533a8540, com.billit.user_service.security.jwt.JwtAuthenticationFilter@2122b4bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d3b4646, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c1d9c40, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd79a57, org.springframework.security.web.session.SessionManagementFilter@67263db7, org.springframework.security.web.access.ExceptionTranslationFilter@1018552d, org.springframework.security.web.access.intercept.AuthorizationFilter@7c1adb8a]
2024-11-21 11:02:49.572 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 11:02:49.935 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 11:02:50.012 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 11:02:50.054 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 11:02:50.059 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 11:02:50.084 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 11:02:50.085 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 11:02:50.085 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 11:02:50.085 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 11:02:50.085 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 11:02:50.085 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 11:02:50.085 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 11:02:50.546 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 11:02:50.550 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 11:02:50.554 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 11:02:50.561 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732154570560 with initial instances count: 3
2024-11-21 11:02:50.564 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 11:02:50.565 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732154570565, current=UP, previous=STARTING]
2024-11-21 11:02:50.568 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/DESKTOP-LIN23FS:user-service:8085: registering service...
2024-11-21 11:02:50.605 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 11:02:50.606 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 11:02:50.634 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/DESKTOP-LIN23FS:user-service:8085 - registration status: 204
2024-11-21 11:02:50.928 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 9.043 seconds (process running for 9.921)
2024-11-21 11:03:28.193 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 11:03:28.195 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 11:03:28.198 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-11-21 11:03:28.623 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-21 11:03:28.970 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 11:07:50.098 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 11:12:50.107 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 11:17:50.117 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 11:22:50.122 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 11:27:50.131 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 11:30:07.288 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m20s878ms54s600ns).
2024-11-21 12:13:17.122 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=43m9s834ms669s500ns).
2024-11-21 12:16:20.835 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:21:20.843 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:26:20.853 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:31:20.865 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:36:20.883 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:41:20.896 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:46:20.907 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:51:20.914 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 12:56:20.929 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:01:20.943 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:06:20.955 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:11:20.970 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:14:06.875 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 13:14:06.876 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732162446876, current=DOWN, previous=UP]
2024-11-21 13:14:06.877 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/DESKTOP-LIN23FS:user-service:8085: registering service...
2024-11-21 13:14:06.898 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/DESKTOP-LIN23FS:user-service:8085 - registration status: 204
2024-11-21 13:14:07.086 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 13:14:07.123 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 13:14:07.130 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 13:14:07.131 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 13:14:10.146 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 13:14:10.158 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/DESKTOP-LIN23FS:user-service:8085 - deregister  status: 200
2024-11-21 13:14:10.166 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 13:14:14.535 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 11100 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 13:14:14.538 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 13:14:14.538 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 13:14:15.210 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 13:14:15.350 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 135 ms. Found 6 JPA repository interfaces.
2024-11-21 13:14:15.520 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f2970271-d618-3b34-88a5-33e6554e0b1e
2024-11-21 13:14:15.794 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 13:14:15.802 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 13:14:15.802 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 13:14:15.901 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 13:14:15.902 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1325 ms
2024-11-21 13:14:15.947 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 13:14:16.021 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 13:14:16.078 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 13:14:16.080 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 13:14:16.325 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 13:14:16.346 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 13:14:16.483 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@616f81b5
2024-11-21 13:14:16.486 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 13:14:16.547 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 13:14:16.548 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 13:14:17.454 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 13:14:17.466 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 13:14:17.524 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 13:14:17.547 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 13:14:17.565 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 13:14:17.577 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 13:14:17.599 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 13:14:17.614 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 13:14:17.627 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 13:14:17.639 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 13:14:17.656 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 13:14:17.677 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:14:17.698 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:14:17.721 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:14:17.742 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:14:17.765 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 13:14:17.783 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 13:14:17.812 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 13:14:17.833 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 13:14:17.846 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 13:14:17.859 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 13:14:17.911 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 13:14:17.962 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 13:14:18.007 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 13:14:18.056 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 13:14:18.601 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a20337cc-7d04-42b1-b031-2fb55fa1ec20

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 13:14:18.806 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59e9ba7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d6cac57, org.springframework.security.web.context.SecurityContextHolderFilter@5ca896af, org.springframework.security.web.header.HeaderWriterFilter@21bf1b1f, org.springframework.security.web.authentication.logout.LogoutFilter@408708a1, com.billit.user_service.security.jwt.JwtAuthenticationFilter@455591ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@324ee3ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ae8556c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13157620, org.springframework.security.web.session.SessionManagementFilter@5aa026e9, org.springframework.security.web.access.ExceptionTranslationFilter@7d3b4646, org.springframework.security.web.access.intercept.AuthorizationFilter@7bc46dde]
2024-11-21 13:14:19.282 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 13:14:19.610 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 13:14:19.649 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 13:14:19.677 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 13:14:19.680 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:14:19.696 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 13:14:19.696 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 13:14:19.696 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 13:14:19.696 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 13:14:19.696 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 13:14:19.696 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 13:14:19.696 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 13:14:19.973 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 13:14:19.976 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 13:14:19.977 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 13:14:19.981 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732162459979 with initial instances count: 4
2024-11-21 13:14:19.982 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 13:14:19.983 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732162459983, current=UP, previous=STARTING]
2024-11-21 13:14:19.984 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 13:14:20.002 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 13:14:20.002 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 13:14:20.017 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 13:14:20.272 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 6.434 seconds (process running for 7.018)
2024-11-21 13:19:19.706 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:24:19.711 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:29:19.724 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:32:43.974 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 13:32:43.974 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732163563974, current=DOWN, previous=UP]
2024-11-21 13:32:43.974 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 13:32:43.985 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 13:32:44.003 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 13:32:44.004 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 13:32:44.009 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 13:32:44.009 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 13:32:47.024 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 13:32:47.040 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 13:32:47.045 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 13:32:49.611 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 12752 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 13:32:49.612 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 13:32:49.612 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 13:32:50.225 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 13:32:50.335 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 6 JPA repository interfaces.
2024-11-21 13:32:50.479 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f2970271-d618-3b34-88a5-33e6554e0b1e
2024-11-21 13:32:50.721 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 13:32:50.727 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 13:32:50.727 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 13:32:50.811 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 13:32:50.811 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1162 ms
2024-11-21 13:32:50.846 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 13:32:50.912 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 13:32:50.957 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 13:32:50.959 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 13:32:51.133 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 13:32:51.150 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 13:32:51.282 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38cf4497
2024-11-21 13:32:51.283 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 13:32:51.324 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 13:32:51.324 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 13:32:51.991 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 13:32:52.001 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 13:32:52.038 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 13:32:52.051 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 13:32:52.061 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 13:32:52.070 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 13:32:52.081 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 13:32:52.091 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 13:32:52.101 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 13:32:52.112 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 13:32:52.125 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 13:32:52.141 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:32:52.165 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:32:52.186 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:32:52.207 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:32:52.226 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 13:32:52.245 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 13:32:52.263 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 13:32:52.279 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 13:32:52.296 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 13:32:52.310 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 13:32:52.350 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 13:32:52.390 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 13:32:52.434 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 13:32:52.487 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 13:32:52.926 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3ce896a1-ab8d-4d64-97f8-6c88d3f17d19

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 13:32:53.108 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b3c7c75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e75ce0, org.springframework.security.web.context.SecurityContextHolderFilter@157e0f6b, org.springframework.security.web.header.HeaderWriterFilter@1252d480, org.springframework.security.web.authentication.logout.LogoutFilter@14acc33e, com.billit.user_service.security.jwt.JwtAuthenticationFilter@3325f17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f832df0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@173c0722, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35e63d26, org.springframework.security.web.session.SessionManagementFilter@7b186fb8, org.springframework.security.web.access.ExceptionTranslationFilter@14ea3ecf, org.springframework.security.web.access.intercept.AuthorizationFilter@62a78446]
2024-11-21 13:32:53.584 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 13:32:53.848 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 13:32:53.884 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 13:32:53.906 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 13:32:53.910 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:32:53.925 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 13:32:53.925 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 13:32:53.925 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 13:32:53.925 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 13:32:53.925 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 13:32:53.925 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 13:32:53.926 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 13:32:54.171 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 13:32:54.174 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 13:32:54.176 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 13:32:54.180 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732163574179 with initial instances count: 4
2024-11-21 13:32:54.182 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 13:32:54.182 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732163574182, current=UP, previous=STARTING]
2024-11-21 13:32:54.183 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 13:32:54.206 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 13:32:54.207 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 13:32:54.216 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 13:32:54.444 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.404 seconds (process running for 5.826)
2024-11-21 13:37:53.928 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:42:53.932 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:47:53.939 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:48:13.108 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 13:48:13.108 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732164493108, current=DOWN, previous=UP]
2024-11-21 13:48:13.108 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 13:48:13.125 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 13:48:13.133 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 13:48:13.135 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 13:48:13.139 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 13:48:13.139 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 13:48:16.155 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 13:48:16.172 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 13:48:16.175 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 13:56:29.925 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 15168 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 13:56:29.927 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 13:56:29.927 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 13:56:30.580 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 13:56:30.693 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 6 JPA repository interfaces.
2024-11-21 13:56:30.848 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f2970271-d618-3b34-88a5-33e6554e0b1e
2024-11-21 13:56:31.130 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 13:56:31.139 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 13:56:31.139 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 13:56:31.219 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 13:56:31.220 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1257 ms
2024-11-21 13:56:31.256 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 13:56:31.328 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 13:56:31.388 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 13:56:31.391 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 13:56:31.593 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 13:56:31.613 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 13:56:31.721 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a2035e1
2024-11-21 13:56:31.722 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 13:56:31.756 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 13:56:31.757 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 13:56:32.521 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 13:56:32.531 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       drop 
       foreign key FKpckw6nvnpcajmy4u470tbejhg
2024-11-21 13:56:32.741 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       drop 
       foreign key FK509tn5jax7ho64hy5wggh2d5q
2024-11-21 13:56:32.802 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKesds50rajdh76ab0et6svec9h
2024-11-21 13:56:32.903 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       drop 
       foreign key FKjkm5v1j8y3v2jkv0olkux8sq7
2024-11-21 13:56:32.935 [main] DEBUG org.hibernate.SQL - 
    drop table if exists borrow_bank_accounts
2024-11-21 13:56:32.949 [main] DEBUG org.hibernate.SQL - 
    drop table if exists invest_bank_accounts
2024-11-21 13:56:32.962 [main] DEBUG org.hibernate.SQL - 
    drop table if exists refresh_tokens
2024-11-21 13:56:32.976 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transactions
2024-11-21 13:56:32.989 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_borrow
2024-11-21 13:56:33.002 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_invest
2024-11-21 13:56:33.019 [main] DEBUG org.hibernate.SQL - 
    create table borrow_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_borrow_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:56:33.051 [main] DEBUG org.hibernate.SQL - 
    create table invest_bank_accounts (
        balance decimal(38,2) not null,
        is_deleted bit not null,
        created_at datetime(6),
        id bigint not null auto_increment,
        updated_at datetime(6),
        user_invest_id bigint,
        account_holder varchar(255) not null,
        account_number varchar(255) not null,
        bank_name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:56:33.144 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        revoked bit not null,
        expiry_date datetime(6) not null,
        id bigint not null auto_increment,
        token varchar(255) not null,
        user_email varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:56:33.165 [main] DEBUG org.hibernate.SQL - 
    create table transactions (
        amount decimal(38,2) not null,
        borrow_account_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        invest_account_id bigint,
        updated_at datetime(6),
        description varchar(255),
        status enum ('COMPLETED','FAILED','PENDING') not null,
        transaction_id varchar(255) not null,
        type enum ('DEPOSIT','TRANSFER','WITHDRAW') not null,
        primary key (id)
    ) engine=InnoDB
2024-11-21 13:56:33.188 [main] DEBUG org.hibernate.SQL - 
    create table user_borrow (
        credit_rating integer,
        credit_rating_date date,
        created_at datetime(6),
        updated_at datetime(6),
        user_borrow_id bigint not null auto_increment,
        phone varchar(15) not null,
        password varchar(60) not null,
        borrowment_grade varchar(255),
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_borrow_id)
    ) engine=InnoDB
2024-11-21 13:56:33.210 [main] DEBUG org.hibernate.SQL - 
    create table user_invest (
        created_at datetime(6),
        updated_at datetime(6),
        user_investor_id bigint not null auto_increment,
        phone varchar(20) not null,
        password varchar(60) not null,
        email varchar(255) not null,
        user_name varchar(255),
        primary key (user_investor_id)
    ) engine=InnoDB
2024-11-21 13:56:33.231 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UK_ghpmfn23vmxfu3spu3lfg4r2d unique (token)
2024-11-21 13:56:33.248 [main] DEBUG org.hibernate.SQL - 
    alter table user_borrow 
       add constraint UK_qx40i2rcv3ai102mblijmj6xo unique (email)
2024-11-21 13:56:33.264 [main] DEBUG org.hibernate.SQL - 
    alter table user_invest 
       add constraint UK_n69s10naw3ddbvc001iaiti07 unique (email)
2024-11-21 13:56:33.281 [main] DEBUG org.hibernate.SQL - 
    alter table borrow_bank_accounts 
       add constraint FKpckw6nvnpcajmy4u470tbejhg 
       foreign key (user_borrow_id) 
       references user_borrow (user_borrow_id)
2024-11-21 13:56:33.323 [main] DEBUG org.hibernate.SQL - 
    alter table invest_bank_accounts 
       add constraint FK509tn5jax7ho64hy5wggh2d5q 
       foreign key (user_invest_id) 
       references user_invest (user_investor_id)
2024-11-21 13:56:33.371 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKesds50rajdh76ab0et6svec9h 
       foreign key (borrow_account_id) 
       references borrow_bank_accounts (id)
2024-11-21 13:56:33.428 [main] DEBUG org.hibernate.SQL - 
    alter table transactions 
       add constraint FKjkm5v1j8y3v2jkv0olkux8sq7 
       foreign key (invest_account_id) 
       references invest_bank_accounts (id)
2024-11-21 13:56:33.485 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 13:56:33.936 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 02d315c2-6405-472f-aea7-0e5b3892436c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 13:56:34.114 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@322c70bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b24fb6f, org.springframework.security.web.context.SecurityContextHolderFilter@533a8540, org.springframework.security.web.header.HeaderWriterFilter@7e474bd, org.springframework.security.web.authentication.logout.LogoutFilter@62a78446, com.billit.user_service.security.jwt.JwtAuthenticationFilter@6ec9f664, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28df2da8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6810465, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a304820, org.springframework.security.web.session.SessionManagementFilter@173c0722, org.springframework.security.web.access.ExceptionTranslationFilter@39bd07fe, org.springframework.security.web.access.intercept.AuthorizationFilter@23e54c8a]
2024-11-21 13:56:34.631 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 13:56:34.972 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 13:56:35.009 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 13:56:35.035 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 13:56:35.038 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 13:56:35.052 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 13:56:35.052 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 13:56:35.052 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 13:56:35.052 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 13:56:35.052 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 13:56:35.052 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 13:56:35.052 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 13:56:35.300 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 13:56:35.302 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 13:56:35.304 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 13:56:35.307 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732164995306 with initial instances count: 3
2024-11-21 13:56:35.309 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 13:56:35.309 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732164995309, current=UP, previous=STARTING]
2024-11-21 13:56:35.310 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 13:56:35.328 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 13:56:35.328 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 13:56:35.340 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 13:56:35.606 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 6.246 seconds (process running for 6.659)
2024-11-21 13:59:31.138 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 13:59:31.139 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 13:59:31.141 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-11-21 13:59:31.461 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-21 13:59:31.665 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 13:59:53.059 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-21 13:59:53.182 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 14:00:02.501 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-21 14:00:02.661 [http-nio-8085-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 14:01:35.061 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:02:30.845 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-21 14:02:31.060 [http-nio-8085-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date,revoked,token,user_email) 
    values
        (?,?,?,?)
2024-11-21 14:04:14.930 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-21 14:04:14.936 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-21 14:04:14.949 [http-nio-8085-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-21 14:04:48.423 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-21 14:04:48.495 [http-nio-8085-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date,revoked,token,user_email) 
    values
        (?,?,?,?)
2024-11-21 14:05:12.500 [http-nio-8085-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-21 14:05:12.502 [http-nio-8085-exec-10] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-21 14:05:12.505 [http-nio-8085-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-21 14:05:24.965 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-21 14:05:25.039 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date,revoked,token,user_email) 
    values
        (?,?,?,?)
2024-11-21 14:05:44.103 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.user_borrow_id=?
2024-11-21 14:05:44.106 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.account_number=? 
        and not(b1_0.is_deleted) 
    limit
        ?
2024-11-21 14:05:44.108 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        borrow_bank_accounts
        (account_holder,account_number,balance,bank_name,created_at,is_deleted,updated_at,user_borrow_id) 
    values
        (?,?,?,?,?,?,?,?)
2024-11-21 14:06:35.072 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:11:35.080 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:16:03.902 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id 
    from
        user_borrow u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-11-21 14:16:03.976 [http-nio-8085-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_borrow
        (borrowment_grade,created_at,credit_rating,credit_rating_date,email,password,phone,updated_at,user_name) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 14:16:35.086 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:21:35.093 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:26:35.106 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:31:35.120 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:36:35.129 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:40:42.298 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-21 14:40:42.439 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date,revoked,token,user_email) 
    values
        (?,?,?,?)
2024-11-21 14:41:35.139 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:41:47.677 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_borrow_id,
        u1_0.borrowment_grade,
        u1_0.created_at,
        u1_0.credit_rating,
        u1_0.credit_rating_date,
        u1_0.email,
        u1_0.password,
        u1_0.phone,
        u1_0.updated_at,
        u1_0.user_name 
    from
        user_borrow u1_0 
    where
        u1_0.email=?
2024-11-21 14:41:47.809 [http-nio-8085-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date,revoked,token,user_email) 
    values
        (?,?,?,?)
2024-11-21 14:46:35.142 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:51:35.152 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:51:58.865 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 14:51:58.866 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732168318866, current=DOWN, previous=UP]
2024-11-21 14:51:58.866 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 14:51:58.880 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 14:51:58.913 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 14:51:58.919 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 14:51:58.921 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 14:51:58.921 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 14:52:01.940 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 14:52:01.953 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 14:52:01.964 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 14:52:05.863 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 29940 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 14:52:05.864 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 14:52:05.865 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 14:52:06.526 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 14:52:06.640 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 110 ms. Found 6 JPA repository interfaces.
2024-11-21 14:52:06.790 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f2970271-d618-3b34-88a5-33e6554e0b1e
2024-11-21 14:52:07.059 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 14:52:07.067 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 14:52:07.067 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 14:52:07.147 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 14:52:07.148 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1247 ms
2024-11-21 14:52:07.182 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 14:52:07.307 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 14:52:07.370 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 14:52:07.372 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 14:52:07.587 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 14:52:07.607 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 14:52:07.715 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a2035e1
2024-11-21 14:52:07.716 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 14:52:07.762 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 14:52:07.763 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 14:52:08.551 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 14:52:08.664 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 14:52:09.109 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2b14d950-cdfe-4d2f-b47c-13247da32ada

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 14:52:09.296 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44a25dc7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fc064cb, org.springframework.security.web.context.SecurityContextHolderFilter@7234db3, org.springframework.security.web.header.HeaderWriterFilter@5a1ddc7c, org.springframework.security.web.authentication.logout.LogoutFilter@2ecb87b2, com.billit.user_service.security.jwt.JwtAuthenticationFilter@4bacabc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2972b493, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a533b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@508de524, org.springframework.security.web.session.SessionManagementFilter@68bef3df, org.springframework.security.web.access.ExceptionTranslationFilter@71dac63f, org.springframework.security.web.access.intercept.AuthorizationFilter@1adc38a0]
2024-11-21 14:52:09.786 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 14:52:10.090 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 14:52:10.124 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 14:52:10.152 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 14:52:10.154 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 14:52:10.168 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 14:52:10.168 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 14:52:10.168 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 14:52:10.168 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 14:52:10.168 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 14:52:10.168 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 14:52:10.168 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 14:52:10.432 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 14:52:10.434 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 14:52:10.436 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 14:52:10.439 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732168330438 with initial instances count: 3
2024-11-21 14:52:10.440 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 14:52:10.440 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732168330440, current=UP, previous=STARTING]
2024-11-21 14:52:10.442 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 14:52:10.459 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 14:52:10.460 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 14:52:10.468 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 14:52:10.744 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.452 seconds (process running for 5.941)
2024-11-21 14:52:56.590 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 14:52:56.592 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 14:52:56.594 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-11-21 14:57:10.177 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:01:07.918 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 15:01:07.918 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732168867918, current=DOWN, previous=UP]
2024-11-21 15:01:07.918 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 15:01:07.935 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 15:01:07.944 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:01:07.945 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 15:01:07.951 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 15:01:07.952 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 15:01:10.955 [DiscoveryClient-0] WARN  c.n.discovery.TimedSupervisorTask - task supervisor shutting down, can't accept the task
2024-11-21 15:01:10.956 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 15:01:10.976 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 15:01:10.982 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 15:01:13.410 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 21360 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:01:13.412 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:01:13.412 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:01:14.022 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 15:01:14.166 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 6 JPA repository interfaces.
2024-11-21 15:01:14.342 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f2970271-d618-3b34-88a5-33e6554e0b1e
2024-11-21 15:01:14.616 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 15:01:14.622 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 15:01:14.622 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 15:01:14.695 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 15:01:14.695 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1251 ms
2024-11-21 15:01:14.735 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 15:01:14.801 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 15:01:14.843 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 15:01:14.844 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 15:01:15.029 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 15:01:15.048 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 15:01:15.155 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a2035e1
2024-11-21 15:01:15.158 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 15:01:15.196 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 15:01:15.197 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 15:01:16.036 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 15:01:16.130 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:01:16.709 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 4523e034-441e-4270-842b-05f091c5c3a6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 15:01:16.890 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44a25dc7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fc064cb, org.springframework.security.web.context.SecurityContextHolderFilter@7234db3, org.springframework.security.web.header.HeaderWriterFilter@5a1ddc7c, org.springframework.security.web.authentication.logout.LogoutFilter@2ecb87b2, com.billit.user_service.security.jwt.JwtAuthenticationFilter@4bacabc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2972b493, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a533b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@508de524, org.springframework.security.web.session.SessionManagementFilter@68bef3df, org.springframework.security.web.access.ExceptionTranslationFilter@71dac63f, org.springframework.security.web.access.intercept.AuthorizationFilter@1adc38a0]
2024-11-21 15:01:17.367 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 15:01:17.700 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 15:01:17.736 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 15:01:17.758 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 15:01:17.761 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:01:17.775 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 15:01:17.775 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 15:01:17.775 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 15:01:17.775 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 15:01:17.775 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 15:01:17.775 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 15:01:17.775 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 15:01:18.027 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 15:01:18.029 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 15:01:18.031 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 15:01:18.033 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732168878033 with initial instances count: 4
2024-11-21 15:01:18.035 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 15:01:18.035 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732168878035, current=UP, previous=STARTING]
2024-11-21 15:01:18.036 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 15:01:18.053 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 15:01:18.053 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 15:01:18.063 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 15:01:18.297 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.489 seconds (process running for 5.886)
2024-11-21 15:02:27.894 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 15:02:27.894 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 15:02:27.896 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-11-21 15:06:17.781 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:09:58.459 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 15:09:58.459 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732169398459, current=DOWN, previous=UP]
2024-11-21 15:09:58.460 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 15:09:58.477 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 15:09:58.486 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:09:58.487 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 15:09:58.493 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 15:09:58.493 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 15:10:01.502 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 15:10:01.518 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 15:10:01.521 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 15:10:04.574 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 30128 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:10:04.576 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:10:04.576 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:10:05.184 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 15:10:05.298 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 6 JPA repository interfaces.
2024-11-21 15:10:05.446 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f2970271-d618-3b34-88a5-33e6554e0b1e
2024-11-21 15:10:05.713 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 15:10:05.720 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 15:10:05.721 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 15:10:05.791 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 15:10:05.791 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1181 ms
2024-11-21 15:10:05.825 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 15:10:05.923 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 15:10:05.974 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 15:10:05.976 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 15:10:06.178 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 15:10:06.196 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 15:10:06.306 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43d6262c
2024-11-21 15:10:06.308 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 15:10:06.340 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 15:10:06.341 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 15:10:07.042 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 15:10:07.118 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:10:07.583 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f024d196-0a37-4f9c-8b0a-d12d95b4b31b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 15:10:07.760 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1704437b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f4083ac, org.springframework.security.web.context.SecurityContextHolderFilter@126ae0ca, org.springframework.security.web.header.HeaderWriterFilter@236bb278, org.springframework.security.web.authentication.logout.LogoutFilter@2ab87cb8, com.billit.user_service.security.jwt.JwtAuthenticationFilter@3cb4f1a6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5379488c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@638b05fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e301795, org.springframework.security.web.session.SessionManagementFilter@362fbd98, org.springframework.security.web.access.ExceptionTranslationFilter@1695f7cb, org.springframework.security.web.access.intercept.AuthorizationFilter@427946b9]
2024-11-21 15:10:08.221 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 15:10:08.495 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 15:10:08.531 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 15:10:08.553 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 15:10:08.556 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:10:08.570 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 15:10:08.570 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 15:10:08.570 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 15:10:08.570 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 15:10:08.570 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 15:10:08.570 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 15:10:08.571 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 15:10:08.815 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 15:10:08.817 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 15:10:08.819 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 15:10:08.822 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732169408822 with initial instances count: 3
2024-11-21 15:10:08.824 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 15:10:08.824 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732169408824, current=UP, previous=STARTING]
2024-11-21 15:10:08.825 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 15:10:08.841 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 15:10:08.842 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 15:10:08.852 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 15:10:09.084 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.071 seconds (process running for 5.479)
2024-11-21 15:11:23.493 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 15:11:23.494 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 15:11:23.496 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-11-21 15:15:08.581 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:20:08.590 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:25:08.598 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:28:20.027 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 15:28:20.027 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732170500027, current=DOWN, previous=UP]
2024-11-21 15:28:20.027 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 15:28:20.035 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 15:28:20.057 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:28:20.059 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 15:28:20.065 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 15:28:20.065 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 15:28:23.084 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 15:28:23.097 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 15:28:23.100 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 15:28:26.853 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 3664 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:28:26.854 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:28:26.854 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:28:27.568 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 15:28:27.680 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 107 ms. Found 6 JPA repository interfaces.
2024-11-21 15:28:27.850 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f2970271-d618-3b34-88a5-33e6554e0b1e
2024-11-21 15:28:28.123 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 15:28:28.130 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 15:28:28.131 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 15:28:28.212 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 15:28:28.212 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1321 ms
2024-11-21 15:28:28.246 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 15:28:28.323 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 15:28:28.400 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 15:28:28.402 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 15:28:28.615 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 15:28:28.635 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 15:28:28.745 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@616f81b5
2024-11-21 15:28:28.746 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 15:28:28.794 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 15:28:28.795 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 15:28:29.581 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 15:28:29.666 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:28:30.193 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 40dd8f55-e33b-40b1-a02a-5a2907323e8a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 15:28:30.251 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
2024-11-21 15:28:30.252 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:28:30.253 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 15:28:30.258 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 15:28:30.260 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-21 15:28:30.268 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-21 15:28:30.285 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:11)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 36 common frames omitted
Caused by: java.lang.IllegalArgumentException: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterAtOffsetOf(HttpSecurity.java:3286)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterBefore(HttpSecurity.java:3279)
	at com.billit.user_service.security.config.SecurityConfig.filterChain(SecurityConfig.java:36)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$1(<generated>)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
2024-11-21 15:31:08.668 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 20280 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:31:08.669 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:31:08.669 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:31:09.126 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'serviceAuthenticationFilter' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=serviceAuthenticationFilter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]] for bean 'serviceAuthenticationFilter' since there is already [Generic bean: class [com.billit.user_service.security.filter.ServiceAuthenticationFilter]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main\com\billit\user_service\security\filter\ServiceAuthenticationFilter.class]] bound.
2024-11-21 15:31:09.132 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-21 15:31:09.145 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'serviceAuthenticationFilter', defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class], could not be registered. A bean with that name has already been defined in file [C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main\com\billit\user_service\security\filter\ServiceAuthenticationFilter.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2024-11-21 15:31:45.855 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 27152 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:31:45.856 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:31:45.856 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:31:46.292 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'serviceAuthenticationFilter' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=serviceAuthenticationFilter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]] for bean 'serviceAuthenticationFilter' since there is already [Generic bean: class [com.billit.user_service.security.filter.ServiceAuthenticationFilter]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main\com\billit\user_service\security\filter\ServiceAuthenticationFilter.class]] bound.
2024-11-21 15:31:46.298 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-21 15:31:46.310 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'serviceAuthenticationFilter', defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class], could not be registered. A bean with that name has already been defined in file [C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main\com\billit\user_service\security\filter\ServiceAuthenticationFilter.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2024-11-21 15:32:34.911 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 6708 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:32:34.912 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:32:34.913 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:32:35.526 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 15:32:35.649 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 118 ms. Found 6 JPA repository interfaces.
2024-11-21 15:32:35.846 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c676829a-591a-3352-bb93-d602f9914252
2024-11-21 15:32:36.099 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 15:32:36.105 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 15:32:36.105 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 15:32:36.179 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 15:32:36.180 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1235 ms
2024-11-21 15:32:36.261 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 15:32:36.294 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 15:32:36.297 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 15:32:36.485 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 15:32:36.504 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 15:32:36.619 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d68954d
2024-11-21 15:32:36.621 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 15:32:36.651 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 15:32:36.652 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 15:32:37.393 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 15:32:37.469 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:32:37.700 [main] DEBUG c.b.u.s.jwt.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2024-11-21 15:32:37.700 [main] DEBUG c.b.u.s.f.ServiceAuthenticationFilter - Filter 'serviceAuthenticationFilter' configured for use
2024-11-21 15:32:37.981 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 933de0d9-5801-47a3-9477-04d43330ed60

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 15:32:38.143 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
2024-11-21 15:32:38.144 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:32:38.145 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 15:32:38.150 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 15:32:38.151 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-21 15:32:38.160 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-21 15:32:38.171 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:11)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 36 common frames omitted
Caused by: java.lang.IllegalArgumentException: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterAtOffsetOf(HttpSecurity.java:3286)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterBefore(HttpSecurity.java:3279)
	at com.billit.user_service.security.config.SecurityConfig.filterChain(SecurityConfig.java:55)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$1(<generated>)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
2024-11-21 15:36:04.208 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 26920 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:36:04.209 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:36:04.209 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:36:04.775 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 15:36:04.902 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 6 JPA repository interfaces.
2024-11-21 15:36:05.059 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 15:36:05.319 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 15:36:05.327 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 15:36:05.328 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 15:36:05.424 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 15:36:05.424 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1184 ms
2024-11-21 15:36:05.529 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 15:36:05.572 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 15:36:05.574 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 15:36:05.771 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 15:36:05.791 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 15:36:05.914 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@212e39ee
2024-11-21 15:36:05.917 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 15:36:05.964 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 15:36:05.964 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 15:36:06.661 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 15:36:06.745 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:36:07.203 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3ce6a5c8-8981-4679-8069-9cefc3e79abb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 15:36:07.370 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order and cannot be added without a specified order. Consider using addFilterBefore or addFilterAfter instead.
2024-11-21 15:36:07.371 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:36:07.372 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 15:36:07.376 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 15:36:07.378 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-21 15:36:07.387 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-21 15:36:07.398 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order and cannot be added without a specified order. Consider using addFilterBefore or addFilterAfter instead.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.billit.user_service.UserServiceApplication.main(UserServiceApplication.java:11)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/billit/user_service/security/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order and cannot be added without a specified order. Consider using addFilterBefore or addFilterAfter instead.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order and cannot be added without a specified order. Consider using addFilterBefore or addFilterAfter instead.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 36 common frames omitted
Caused by: java.lang.IllegalArgumentException: The Filter class com.billit.user_service.security.jwt.JwtAuthenticationFilter does not have a registered order and cannot be added without a specified order. Consider using addFilterBefore or addFilterAfter instead.
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilter(HttpSecurity.java:3298)
	at com.billit.user_service.security.config.SecurityConfig.filterChain(SecurityConfig.java:48)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$1(<generated>)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.billit.user_service.security.config.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
2024-11-21 15:36:52.961 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 21076 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 15:36:52.963 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 15:36:52.963 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 15:36:53.579 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 15:36:53.692 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 6 JPA repository interfaces.
2024-11-21 15:36:53.859 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 15:36:54.098 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 15:36:54.103 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 15:36:54.104 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 15:36:54.183 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 15:36:54.184 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1188 ms
2024-11-21 15:36:54.287 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 15:36:54.328 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 15:36:54.330 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 15:36:54.514 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 15:36:54.531 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 15:36:54.668 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@212e39ee
2024-11-21 15:36:54.670 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 15:36:54.701 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 15:36:54.702 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 15:36:55.404 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 15:36:55.467 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 15:36:55.934 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 03f0faee-1478-4782-b834-82001bcb1d72

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 15:36:56.118 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@fd8513b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18372705, org.springframework.security.web.context.SecurityContextHolderFilter@71dac63f, org.springframework.security.web.header.HeaderWriterFilter@5581e273, org.springframework.security.web.authentication.logout.LogoutFilter@60052518, com.billit.user_service.security.filter.ServiceAuthenticationFilter@418f0f27, com.billit.user_service.security.jwt.JwtAuthenticationFilter@427946b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a1ddc7c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@126ae0ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fe58644, org.springframework.security.web.session.SessionManagementFilter@7306836f, org.springframework.security.web.access.ExceptionTranslationFilter@5d414943, org.springframework.security.web.access.intercept.AuthorizationFilter@25865fca]
2024-11-21 15:36:56.565 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 15:36:56.868 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 15:36:56.905 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 15:36:56.927 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 15:36:56.930 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:36:56.943 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 15:36:56.944 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 15:36:56.944 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 15:36:56.944 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 15:36:56.944 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 15:36:56.944 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 15:36:56.944 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 15:36:57.186 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 15:36:57.188 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 15:36:57.190 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 15:36:57.193 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732171017192 with initial instances count: 3
2024-11-21 15:36:57.194 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 15:36:57.195 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732171017194, current=UP, previous=STARTING]
2024-11-21 15:36:57.196 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 15:36:57.212 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 15:36:57.213 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 15:36:57.223 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 15:36:57.453 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.035 seconds (process running for 5.442)
2024-11-21 15:40:04.734 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 15:40:04.734 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 15:40:04.736 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 15:40:04.743 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 235
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/borrow/deposit
2024-11-21 15:40:04.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 15:40:04.768 [http-nio-8085-exec-1] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T15:40:04.768147400
Request: uri=/api/v1/user_service/accounts/transaction/borrow/deposit
Error Type: MissingServletRequestParameterException
Error Message: Required request parameter 'userId' for method parameter type Long is not present
Position: org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:218)
Stack Trace: [org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:218), org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:193), org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114), org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122), org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 15:41:56.957 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:46:56.972 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:51:56.987 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 15:56:56.995 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:01:57.008 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:03:02.087 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 16:03:02.088 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732172582088, current=DOWN, previous=UP]
2024-11-21 16:03:02.089 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:03:02.110 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:03:02.123 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:03:02.125 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 16:03:02.131 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 16:03:02.132 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 16:03:05.141 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 16:03:05.158 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 16:03:05.160 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 16:03:09.057 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 30492 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 16:03:09.059 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 16:03:09.059 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 16:03:09.708 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 16:03:09.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 6 JPA repository interfaces.
2024-11-21 16:03:10.033 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 16:03:10.292 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 16:03:10.298 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 16:03:10.299 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 16:03:10.393 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 16:03:10.393 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1299 ms
2024-11-21 16:03:10.519 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 16:03:10.559 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 16:03:10.561 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 16:03:10.779 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 16:03:10.798 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 16:03:10.923 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@340fc1aa
2024-11-21 16:03:10.925 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 16:03:10.965 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 16:03:10.966 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 16:03:11.760 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 16:03:11.836 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:03:12.305 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: cfe8e02b-8bbf-4536-b8cc-ef20817c4a41

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 16:03:12.501 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bedebe9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6592a73b, org.springframework.security.web.context.SecurityContextHolderFilter@2aaed928, org.springframework.security.web.header.HeaderWriterFilter@6114902c, org.springframework.security.web.authentication.logout.LogoutFilter@61bfd7da, com.billit.user_service.security.filter.ServiceAuthenticationFilter@14f11a56, com.billit.user_service.security.jwt.JwtAuthenticationFilter@11ce61d1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b7b26c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51751265, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@759862a2, org.springframework.security.web.session.SessionManagementFilter@6cca70e3, org.springframework.security.web.access.ExceptionTranslationFilter@513cd96f, org.springframework.security.web.access.intercept.AuthorizationFilter@5cb654e3]
2024-11-21 16:03:12.991 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 16:03:13.257 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 16:03:13.292 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 16:03:13.319 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 16:03:13.322 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:03:13.338 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 16:03:13.338 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 16:03:13.338 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 16:03:13.339 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 16:03:13.339 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 16:03:13.339 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 16:03:13.339 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 16:03:13.615 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 16:03:13.618 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 16:03:13.620 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 16:03:13.623 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732172593623 with initial instances count: 4
2024-11-21 16:03:13.625 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 16:03:13.625 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732172593625, current=UP, previous=STARTING]
2024-11-21 16:03:13.626 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:03:13.642 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 16:03:13.643 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 16:03:13.653 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:03:13.886 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.661 seconds (process running for 6.562)
2024-11-21 16:04:41.727 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 16:04:41.728 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 16:04:41.729 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 16:04:41.742 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:04:41.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:04:41.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:04:41.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:04:41.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:04:41.744 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:04:41.745 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:04:41.745 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:04:41.745 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:04:41.745 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:04:41.920 [http-nio-8085-exec-1] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:04:41.919668
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:50), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:04:44.092 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:04:44.093 [http-nio-8085-exec-3] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:04:44.103 [http-nio-8085-exec-3] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:04:44.103908
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:50), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:08:13.351 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:13:13.359 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:15:13.230 [http-nio-8085-exec-5] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:15:13.238 [http-nio-8085-exec-5] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:15:13.238046700
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:50), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:18:13.372 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:19:05.335 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:19:05.336 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:19:05.360 [http-nio-8085-exec-4] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:19:05.360098300
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:50), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:19:32.975 [http-nio-8085-exec-9] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:19:33.007 [http-nio-8085-exec-9] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:19:33.007760200
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:50), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:22:03.087 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 16:22:03.087 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732173723087, current=DOWN, previous=UP]
2024-11-21 16:22:03.088 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:22:03.094 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:22:03.121 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:22:03.123 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 16:22:03.132 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 16:22:03.133 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 16:22:06.152 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 16:22:06.166 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 16:22:06.170 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 16:22:09.924 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 28728 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 16:22:09.926 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 16:22:09.926 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 16:22:10.618 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 16:22:10.731 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 6 JPA repository interfaces.
2024-11-21 16:22:10.888 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 16:22:11.184 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 16:22:11.192 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 16:22:11.192 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 16:22:11.270 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 16:22:11.271 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1275 ms
2024-11-21 16:22:11.418 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 16:22:11.471 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 16:22:11.473 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 16:22:11.718 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 16:22:11.739 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 16:22:11.854 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35524549
2024-11-21 16:22:11.855 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 16:22:11.890 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 16:22:11.891 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 16:22:12.701 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 16:22:12.781 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:22:13.221 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0ad395d0-a280-4174-8672-ee4d01cf77a6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 16:22:13.436 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71ad1d0b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a087132, org.springframework.security.web.context.SecurityContextHolderFilter@543b855, org.springframework.security.web.header.HeaderWriterFilter@193f5509, org.springframework.security.web.authentication.logout.LogoutFilter@7df1fc5a, com.billit.user_service.security.filter.ServiceAuthenticationFilter@5d8c03cc, com.billit.user_service.security.jwt.JwtAuthenticationFilter@4a4979bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b5e1b16, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@267d9cc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@539570b8, org.springframework.security.web.session.SessionManagementFilter@14f11a56, org.springframework.security.web.access.ExceptionTranslationFilter@61bfd7da, org.springframework.security.web.access.intercept.AuthorizationFilter@6dccdc50]
2024-11-21 16:22:13.920 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 16:22:14.195 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 16:22:14.233 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 16:22:14.257 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 16:22:14.261 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:22:14.276 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 16:22:14.276 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 16:22:14.276 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 16:22:14.276 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 16:22:14.276 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 16:22:14.276 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 16:22:14.276 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 16:22:14.559 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 16:22:14.561 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 16:22:14.563 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 16:22:14.566 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732173734566 with initial instances count: 4
2024-11-21 16:22:14.568 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 16:22:14.568 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732173734568, current=UP, previous=STARTING]
2024-11-21 16:22:14.569 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:22:14.595 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 16:22:14.597 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 16:22:14.608 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:22:14.874 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.556 seconds (process running for 6.104)
2024-11-21 16:24:02.250 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 16:24:02.251 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 16:24:02.252 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 16:24:02.260 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:24:02.261 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:24:02.312 [http-nio-8085-exec-1] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:24:02.312645600
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:51), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:27:14.295 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:30:54.458 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:30:54.467 [http-nio-8085-exec-2] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:30:54.466992
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:51), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:32:14.309 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:32:17.185 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 16:32:17.186 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732174337186, current=DOWN, previous=UP]
2024-11-21 16:32:17.186 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:32:17.196 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:32:17.220 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:32:17.222 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 16:32:17.237 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 16:32:17.239 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 16:32:20.252 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 16:32:20.267 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 16:32:20.274 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 16:32:22.947 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 4208 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 16:32:22.949 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 16:32:22.949 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 16:32:23.591 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 16:32:23.735 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 139 ms. Found 6 JPA repository interfaces.
2024-11-21 16:32:23.899 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 16:32:24.159 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 16:32:24.165 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 16:32:24.165 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 16:32:24.249 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 16:32:24.249 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1266 ms
2024-11-21 16:32:24.390 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 16:32:24.432 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 16:32:24.434 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 16:32:24.629 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 16:32:24.648 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 16:32:24.763 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6be8ce1b
2024-11-21 16:32:24.765 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 16:32:24.798 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 16:32:24.799 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 16:32:25.569 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 16:32:25.657 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:32:26.132 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f1592809-5ac3-4a3b-b49a-f63930b80af6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 16:32:26.335 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@525aadf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@203b98cf, org.springframework.security.web.context.SecurityContextHolderFilter@781ecbac, org.springframework.security.web.header.HeaderWriterFilter@386ec37d, org.springframework.security.web.authentication.logout.LogoutFilter@1b079e81, com.billit.user_service.security.filter.ServiceAuthenticationFilter@52bcd7c9, com.billit.user_service.security.jwt.JwtAuthenticationFilter@22495f2f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f89d36c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14f11a56, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25fb43a9, org.springframework.security.web.session.SessionManagementFilter@74ea1cd0, org.springframework.security.web.access.ExceptionTranslationFilter@4c140b12, org.springframework.security.web.access.intercept.AuthorizationFilter@7df1fc5a]
2024-11-21 16:32:26.816 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 16:32:27.098 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 16:32:27.134 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 16:32:27.164 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 16:32:27.167 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:32:27.183 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 16:32:27.183 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 16:32:27.183 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 16:32:27.183 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 16:32:27.183 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 16:32:27.183 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 16:32:27.183 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 16:32:27.470 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 16:32:27.472 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 16:32:27.476 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 16:32:27.480 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732174347480 with initial instances count: 4
2024-11-21 16:32:27.482 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 16:32:27.482 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732174347482, current=UP, previous=STARTING]
2024-11-21 16:32:27.483 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:32:27.501 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 16:32:27.502 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 16:32:27.511 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:32:27.768 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.431 seconds (process running for 5.943)
2024-11-21 16:32:45.799 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 16:32:45.799 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 16:32:45.800 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 16:32:45.809 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:32:45.810 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:32:45.811 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:32:45.865 [http-nio-8085-exec-1] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:32:45.865243700
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$4(TransactionService.java:87), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:109), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:51), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:37:27.187 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:42:27.189 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:47:26.360 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 16:47:26.360 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732175246360, current=DOWN, previous=UP]
2024-11-21 16:47:26.361 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:47:26.386 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:47:26.398 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:47:26.399 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 16:47:26.407 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 16:47:26.408 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 16:47:27.194 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:47:29.410 [DiscoveryClient-1] WARN  c.n.discovery.TimedSupervisorTask - task supervisor shutting down, can't accept the task
2024-11-21 16:47:29.412 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 16:47:29.417 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 16:47:29.422 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 16:47:32.620 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 28796 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 16:47:32.622 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 16:47:32.622 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 16:47:33.246 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 16:47:33.376 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 125 ms. Found 6 JPA repository interfaces.
2024-11-21 16:47:33.570 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 16:47:33.850 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 16:47:33.857 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 16:47:33.857 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 16:47:33.939 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 16:47:33.939 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1283 ms
2024-11-21 16:47:34.055 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 16:47:34.094 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 16:47:34.096 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 16:47:34.327 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 16:47:34.347 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 16:47:34.462 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23ec63af
2024-11-21 16:47:34.463 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 16:47:34.498 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 16:47:34.499 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 16:47:35.270 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 16:47:35.366 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:47:35.880 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 03542363-f660-4466-931d-0ab1dec846a4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 16:47:36.089 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a087132, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d8c03cc, org.springframework.security.web.context.SecurityContextHolderFilter@197c3101, org.springframework.security.web.header.HeaderWriterFilter@475a8415, org.springframework.security.web.authentication.logout.LogoutFilter@5444c63f, com.billit.user_service.security.filter.ServiceAuthenticationFilter@4a4979bf, com.billit.user_service.security.jwt.JwtAuthenticationFilter@539570b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d65fbad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44a7a331, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a2d0a19, org.springframework.security.web.session.SessionManagementFilter@11ce61d1, org.springframework.security.web.access.ExceptionTranslationFilter@6179af64, org.springframework.security.web.access.intercept.AuthorizationFilter@59456e1]
2024-11-21 16:47:36.567 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 16:47:36.835 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 16:47:36.874 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 16:47:36.899 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 16:47:36.902 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:47:36.917 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 16:47:36.917 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 16:47:36.917 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 16:47:36.918 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 16:47:36.918 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 16:47:36.918 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 16:47:36.918 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 16:47:37.194 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 16:47:37.196 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 16:47:37.198 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 16:47:37.201 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732175257200 with initial instances count: 3
2024-11-21 16:47:37.202 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 16:47:37.203 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732175257203, current=UP, previous=STARTING]
2024-11-21 16:47:37.204 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:47:37.222 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 16:47:37.223 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 16:47:37.231 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:47:37.469 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.45 seconds (process running for 5.972)
2024-11-21 16:48:19.100 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 16:48:19.100 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 16:48:19.101 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 16:48:19.110 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:48:19.111 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:48:19.238 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@4559c7f8
2024-11-21 16:48:19.238 [http-nio-8085-exec-1] ERROR c.b.u.a.service.TransactionService - accountBorrowId is null in request: com.billit.user_service.account.dto.request.GroupDepositRequest@4559c7f8
2024-11-21 16:48:19.238 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@70558869
2024-11-21 16:48:19.238 [http-nio-8085-exec-1] ERROR c.b.u.a.service.TransactionService - accountBorrowId is null in request: com.billit.user_service.account.dto.request.GroupDepositRequest@70558869
2024-11-21 16:48:19.238 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@7c2e7dbc
2024-11-21 16:48:19.238 [http-nio-8085-exec-1] ERROR c.b.u.a.service.TransactionService - accountBorrowId is null in request: com.billit.user_service.account.dto.request.GroupDepositRequest@7c2e7dbc
2024-11-21 16:48:19.243 [http-nio-8085-exec-1] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:48:19.243773100
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$5(TransactionService.java:96)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$5(TransactionService.java:96), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:118), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:51), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 16:52:36.921 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:56:12.472 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 16:56:12.473 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732175772473, current=DOWN, previous=UP]
2024-11-21 16:56:12.473 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:56:12.481 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:56:12.514 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:56:12.516 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 16:56:12.527 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 16:56:12.528 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 16:56:15.539 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 16:56:15.556 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 16:56:15.559 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 16:56:18.018 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 15264 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 16:56:18.026 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 16:56:18.028 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 16:56:18.723 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 16:56:18.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 126 ms. Found 6 JPA repository interfaces.
2024-11-21 16:56:19.016 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 16:56:19.311 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 16:56:19.319 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 16:56:19.319 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 16:56:19.401 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 16:56:19.401 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1312 ms
2024-11-21 16:56:19.509 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 16:56:19.556 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 16:56:19.558 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 16:56:19.756 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 16:56:19.775 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 16:56:19.893 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5627b8eb
2024-11-21 16:56:19.895 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 16:56:19.929 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 16:56:19.930 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 16:56:20.698 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 16:56:20.772 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 16:56:21.237 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6eb24ab1-a727-4229-b332-3cad531470c2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 16:56:21.425 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7df1fc5a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5444c63f, org.springframework.security.web.context.SecurityContextHolderFilter@74ea1cd0, org.springframework.security.web.header.HeaderWriterFilter@6be865c1, org.springframework.security.web.authentication.logout.LogoutFilter@712eb075, com.billit.user_service.security.filter.ServiceAuthenticationFilter@31b827a6, com.billit.user_service.security.jwt.JwtAuthenticationFilter@525aadf2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@477dc93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@520034a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@203b98cf, org.springframework.security.web.session.SessionManagementFilter@193f5509, org.springframework.security.web.access.ExceptionTranslationFilter@136a5572, org.springframework.security.web.access.intercept.AuthorizationFilter@14d7a962]
2024-11-21 16:56:21.929 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 16:56:22.227 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 16:56:22.263 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 16:56:22.289 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 16:56:22.292 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 16:56:22.308 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 16:56:22.309 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 16:56:22.309 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 16:56:22.309 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 16:56:22.309 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 16:56:22.309 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 16:56:22.309 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 16:56:22.598 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 16:56:22.603 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 16:56:22.606 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 16:56:22.611 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732175782610 with initial instances count: 4
2024-11-21 16:56:22.619 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 16:56:22.619 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732175782619, current=UP, previous=STARTING]
2024-11-21 16:56:22.622 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 16:56:22.646 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 16:56:22.646 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 16:56:22.659 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 16:56:22.898 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.49 seconds (process running for 6.088)
2024-11-21 16:56:29.046 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 16:56:29.047 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 16:56:29.048 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 16:56:29.056 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 16:56:29.057 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 16:56:29.057 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 16:56:29.057 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 16:56:29.058 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 16:56:29.058 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 16:56:29.058 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 16:56:29.058 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 274
2024-11-21 16:56:29.058 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 16:56:29.058 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 16:56:29.107 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@1f2804a7
2024-11-21 16:56:29.107 [http-nio-8085-exec-1] ERROR c.b.u.a.service.TransactionService - accountBorrowId is null in request: com.billit.user_service.account.dto.request.GroupDepositRequest@1f2804a7
2024-11-21 16:56:29.107 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@3974a0aa
2024-11-21 16:56:29.107 [http-nio-8085-exec-1] ERROR c.b.u.a.service.TransactionService - accountBorrowId is null in request: com.billit.user_service.account.dto.request.GroupDepositRequest@3974a0aa
2024-11-21 16:56:29.107 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@63526e99
2024-11-21 16:56:29.107 [http-nio-8085-exec-1] ERROR c.b.u.a.service.TransactionService - accountBorrowId is null in request: com.billit.user_service.account.dto.request.GroupDepositRequest@63526e99
2024-11-21 16:56:29.111 [http-nio-8085-exec-1] ERROR c.b.u.c.e.GlobalExceptionHandler - =============== UnexpectedException ===============
DateTime: 2024-11-21T16:56:29.111261800
Request: uri=/api/v1/user_service/accounts/transaction/group/borrow/deposit
Error Type: NullPointerException
Error Message: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.billit.user_service.account.dto.request.GroupDepositRequest.getAccountBorrowId()" is null
Position: com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$5(TransactionService.java:96)
Stack Trace: [com.billit.user_service.account.service.TransactionService.lambda$depositGroupBorrow$5(TransactionService.java:96), java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197), java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625), java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509), java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499), java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921), java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234), java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682), com.billit.user_service.account.service.TransactionService.depositGroupBorrow(TransactionService.java:118), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343), org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123), org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391), org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184), org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751), org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703), com.billit.user_service.account.service.TransactionService$$SpringCGLIB$$0.depositGroupBorrow(<generated>), com.billit.user_service.account.controller.TransactionController.depositGroupBorrow(TransactionController.java:51), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:568), org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205), org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150), org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884), org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797), org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365), org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126), org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131), org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), com.billit.user_service.security.filter.ServiceAuthenticationFilter.doFilterInternal(ServiceAuthenticationFilter.java:39), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107), org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90), org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82), org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374), org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233), org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191), org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352), org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174), org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149), org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167), org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90), org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482), org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115), org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93), org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74), org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340), org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391), org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63), org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896), org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744), org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52), org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191), org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659), org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61), java.base/java.lang.Thread.run(Thread.java:842)]
==================================================
2024-11-21 17:01:22.316 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 17:02:13.113 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 17:02:13.113 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 17:02:13.113 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 17:02:13.113 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 17:02:13.113 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 17:02:13.114 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 17:02:13.114 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 17:02:13.114 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 265
2024-11-21 17:02:13.114 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 17:02:13.114 [http-nio-8085-exec-2] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 17:02:13.118 [http-nio-8085-exec-2] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@4197a825
2024-11-21 17:02:13.119 [http-nio-8085-exec-2] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@4f504e67
2024-11-21 17:02:13.119 [http-nio-8085-exec-2] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@4b6fc355
2024-11-21 17:02:13.158 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:02:13.251 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:02:13.289 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:02:13.292 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:02:13.295 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:02:13.298 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:02:13.315 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:02:13.322 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:02:13.324 [http-nio-8085-exec-2] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:04:02.104 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2024-11-21 17:04:02.105 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732176242105, current=DOWN, previous=UP]
2024-11-21 17:04:02.105 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 17:04:02.124 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 17:04:02.156 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 17:04:02.158 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-11-21 17:04:02.167 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-11-21 17:04:02.167 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2024-11-21 17:04:05.183 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2024-11-21 17:04:05.199 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - deregister  status: 200
2024-11-21 17:04:05.202 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2024-11-21 17:04:22.752 [main] INFO  c.b.u.UserServiceApplication - Starting UserServiceApplication using Java 17.0.12 with PID 1700 (C:\Users\user\Desktop\BilliT\FullStack_BE_User\build\classes\java\main started by user in C:\Users\user\Desktop\BilliT\FullStack_BE_User)
2024-11-21 17:04:22.753 [main] DEBUG c.b.u.UserServiceApplication - Running with Spring Boot v3.1.5, Spring v6.0.13
2024-11-21 17:04:22.754 [main] INFO  c.b.u.UserServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-21 17:04:23.368 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-21 17:04:23.483 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 110 ms. Found 6 JPA repository interfaces.
2024-11-21 17:04:23.646 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=7dfc3b64-2b92-3f0c-8f49-c475fba5af41
2024-11-21 17:04:23.904 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 17:04:23.914 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 17:04:23.915 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2024-11-21 17:04:24.023 [main] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring embedded WebApplicationContext
2024-11-21 17:04:24.023 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1233 ms
2024-11-21 17:04:24.120 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-21 17:04:24.165 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2024-11-21 17:04:24.167 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-21 17:04:24.372 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-21 17:04:24.401 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-11-21 17:04:24.512 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a661215
2024-11-21 17:04:24.514 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-11-21 17:04:24.545 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-21 17:04:24.547 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-21 17:04:25.234 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-21 17:04:25.303 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-21 17:04:25.748 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c7dea598-c455-4502-94c4-aa6c513fb0da

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-11-21 17:04:25.935 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c32aa7e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c11ec9b, org.springframework.security.web.context.SecurityContextHolderFilter@e9c5db9, org.springframework.security.web.header.HeaderWriterFilter@5d414943, org.springframework.security.web.authentication.logout.LogoutFilter@628af295, com.billit.user_service.security.filter.ServiceAuthenticationFilter@fd8513b, com.billit.user_service.security.jwt.JwtAuthenticationFilter@18372705, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71dac63f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11e36e5c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@418f0f27, org.springframework.security.web.session.SessionManagementFilter@5e1d3188, org.springframework.security.web.access.ExceptionTranslationFilter@4b094115, org.springframework.security.web.access.intercept.AuthorizationFilter@4ac1544f]
2024-11-21 17:04:26.370 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2024-11-21 17:04:26.659 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-11-21 17:04:26.691 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2024-11-21 17:04:26.713 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2024-11-21 17:04:26.715 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 17:04:26.728 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2024-11-21 17:04:26.728 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2024-11-21 17:04:26.728 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2024-11-21 17:04:26.728 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2024-11-21 17:04:26.728 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2024-11-21 17:04:26.729 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2024-11-21 17:04:26.729 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2024-11-21 17:04:26.986 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2024-11-21 17:04:26.990 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2024-11-21 17:04:26.992 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-11-21 17:04:26.994 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1732176266994 with initial instances count: 4
2024-11-21 17:04:26.995 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2024-11-21 17:04:26.997 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1732176266997, current=UP, previous=STARTING]
2024-11-21 17:04:26.997 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085: registering service...
2024-11-21 17:04:27.014 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path '/api/v1/user_service'
2024-11-21 17:04:27.015 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8085
2024-11-21 17:04:27.023 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/host.docker.internal:user-service:8085 - registration status: 204
2024-11-21 17:04:27.261 [main] INFO  c.b.u.UserServiceApplication - Started UserServiceApplication in 5.107 seconds (process running for 5.537)
2024-11-21 17:07:51.455 [http-nio-8085-exec-1] INFO  o.a.c.c.C.[.[.[/api/v1/user_service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 17:07:51.456 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 17:07:51.457 [http-nio-8085-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 17:07:51.479 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 17:07:51.481 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 17:07:51.481 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 17:07:51.482 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 17:07:51.482 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 17:07:51.482 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 17:07:51.482 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 17:07:51.482 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 277
2024-11-21 17:07:51.483 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 17:07:51.483 [http-nio-8085-exec-1] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 17:07:51.583 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@42b46abf
2024-11-21 17:07:51.583 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@7d9ab42f
2024-11-21 17:07:51.584 [http-nio-8085-exec-1] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@7789ada0
2024-11-21 17:07:51.682 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:07:51.784 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:07:51.806 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:07:51.810 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:07:51.815 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:07:51.819 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:07:51.869 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:07:51.876 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:07:51.879 [http-nio-8085-exec-1] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:09:26.740 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2024-11-21 17:12:19.298 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - All Headers:
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-type': application/json
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'x-service-name': loan-group-service
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'accept': */*
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'user-agent': Java/17.0.12
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'host': 192.168.10.18:8085
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'connection': keep-alive
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - 'content-length': 277
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Request URI: /api/v1/user_service/accounts/transaction/group/borrow/deposit
2024-11-21 17:12:19.299 [http-nio-8085-exec-4] INFO  c.b.u.s.f.ServiceAuthenticationFilter - Service Name Header: loan-group-service
2024-11-21 17:12:19.303 [http-nio-8085-exec-4] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@6e9639c8
2024-11-21 17:12:19.303 [http-nio-8085-exec-4] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@6051ca6a
2024-11-21 17:12:19.303 [http-nio-8085-exec-4] INFO  c.b.u.a.service.TransactionService - Processing GroupDepositRequest: com.billit.user_service.account.dto.request.GroupDepositRequest@646e52b8
2024-11-21 17:12:19.304 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:12:19.307 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:12:19.309 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:12:19.311 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:12:19.313 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.account_holder,
        b1_0.account_number,
        b1_0.balance,
        b1_0.bank_name,
        b1_0.created_at,
        b1_0.is_deleted,
        b1_0.updated_at,
        b1_0.user_borrow_id 
    from
        borrow_bank_accounts b1_0 
    where
        b1_0.id=?
2024-11-21 17:12:19.314 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        transactions
        (amount,borrow_account_id,created_at,description,invest_account_id,status,transaction_id,type,updated_at) 
    values
        (?,?,?,?,?,?,?,?,?)
2024-11-21 17:12:19.316 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:12:19.319 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
2024-11-21 17:12:19.320 [http-nio-8085-exec-4] DEBUG org.hibernate.SQL - 
    update
        borrow_bank_accounts 
    set
        account_holder=?,
        account_number=?,
        balance=?,
        bank_name=?,
        is_deleted=?,
        updated_at=?,
        user_borrow_id=? 
    where
        id=?
